!function(e){"use strict";function t(t,e){function n(){}n.prototype=t;var s,i=new n;for(s in e)i[s]=e[s];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}function n(t,e){null==e&&(e=!1),null==t&&(t=!1),this.c_enabled=t,this.c_dispatch_once=e,this.clear()}function s(t,e){null==e&&(e=!1),null==t&&(t=!1),n.call(this,t,e)}function d(){}function a(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),this.bounds=new H,this.c_mat=new L,this.c_skewX=this.c_skewY=this.c_deg=this.c_rad=0,this.c_w=this.c_h=0,this.transform(t,e,n,s,i,r)}function _(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),a.call(this,t,e,n,s,i,r),this.c_vis=!0,this.c_vis_area=null,this.c_alpha=1}function f(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),_.call(this,t,e,n,s,i,r),this.pointer=new M,this.parent=null,this.c_touchable=!0,this.isAdded=this.isTouched=this.isOver=!1}function i(t,e,n,s,i,r){null==r&&(r=!0),null==i&&(i=1),null==s&&(s=1),null==n&&(n=0),null==e&&(e=0),f.call(this,e,n,s,i,this.get_pivotX(),this.get_pivotY()),this.c_use_pivot=r,this.set_texture(t)}function r(t,e){var n=T.random(4);this.c_textures=[h.gfx.getTexture(n+"_0"),h.gfx.getTexture(n+"_1")],this.c_curr_id=.5<Math.random()?1:0,i.call(this,this.c_textures[this.c_curr_id],t,e)}n.__name__=["tofu","events","EventBase"],n.prototype={clear:function(){this.c_base=[],this.numListeners=0},on:function(t,e){null==e||e>this.numListeners?e=this.numListeners:e<0&&(e=0);var n=this.c_base.indexOf(t);return-1==n?(this.c_enabled?(this.c_dispatch_once||(this.c_base.splice(e,0,t),this.numListeners++),this.execute_listener(t)):(this.c_base.splice(e,0,t),this.numListeners++),!0):(this.c_base.splice(n,1),this.c_base.splice(e,0,t),!1)},off:function(t){t=this.c_base.indexOf(t);return-1!=t&&(this.c_base.splice(t,1),this.numListeners--,!0)},has:function(t){return-1!=this.c_base.indexOf(t)},execute_all:function(){for(var t=-1;++t<this.numListeners;)this.execute_listener(this.c_base[t]);this.c_dispatch_once&&this.clear()},execute_listener:function(t){m.call(t,null)},get_isEnabled:function(){return this.c_enabled},set_isEnabled:function(t){return t&&this.execute_all(),this.c_enabled=t},get_dispatchOnce:function(){return this.c_dispatch_once},set_dispatchOnce:function(t){return this.c_dispatch_once=t},__class__:n},s.__name__=["tofu","events","Event0"],s.__super__=n,s.prototype=t(n.prototype,{dispatch:function(t,e){null==e&&(e=!1),null==t&&(t=!1),this.c_enabled=t,this.execute_all(),e&&this.clear()},__class__:s}),d.__name__=["App"],d.start=function(t,e,n,s,i){d.isStarted||(d.isStarted=!0,d.WIDTH=e<2?2:e,d.HEIGHT=n<2?2:n,d.MIN_WIDTH=null==s||e<s?e:s,d.MIN_HEIGHT=null==i||n<i?n:i,R.normalize(),d.ticker=new R(!0,!1),d.root=new x(d.WIDTH,d.HEIGHT),d.platform=new vt(t),d.g_renderer=d.platform.get_renderer(),w.init(),d.onStarted.dispatch(!0,!0))},d.pause=function(t){d.isPaused!=t&&(d.isPaused=t,R.event_pause(t),w.event_pause(t),(t?d.onPause:d.onResume).dispatch(!1,!1))},d.event_render=function(){var t;d.isActive&&(R.event_update(),t=d.g_renderer.context,d.g_renderer.pre_render(),d.root.render(t,0,0),d.g_renderer.post_render())},d.event_activate=function(){d.isActive||(R.normalize(),w.event_activate(!0),d.onActivate.dispatch(!1,!1),d.isActive=!0)},d.event_deactivate=function(){d.isActive&&(d.isActive=!1,w.event_activate(!1),d.onDeactivate.dispatch(!1,!1))},d.event_resize=function(t,e){var n,s,i=1;e<t?(i=(n=t/d.MIN_WIDTH)<(s=e/d.MIN_HEIGHT)?n:s,d.BOTTOM=(d.TOP=.5*(d.HEIGHT-d.MIN_HEIGHT)|0)+d.MIN_HEIGHT|0,d.RIGHT=(d.LEFT=.5*(d.WIDTH-t/i)|0)+t/i|0):(d.MIN_HEIGHT*(i=t/d.MIN_WIDTH)<e*i&&((s=e/d.MIN_HEIGHT)<i&&(i=s)),d.BOTTOM=(d.TOP=.5*(d.HEIGHT-e/i)|0)+e/i|0,d.RIGHT=(d.LEFT=.5*(d.WIDTH-d.MIN_WIDTH)|0)+d.MIN_WIDTH|0),d.TOP<0&&(d.TOP=0),d.HEIGHT<d.BOTTOM&&(d.BOTTOM=d.HEIGHT),d.LEFT<0&&(d.LEFT=0),d.WIDTH<d.RIGHT&&(d.RIGHT=d.WIDTH),d.CURRENT_WIDTH=d.RIGHT-d.LEFT,d.CURRENT_HEIGHT=d.BOTTOM-d.TOP,null!=d.root&&d.root.transform(.5*(t-d.WIDTH*i),.5*(e-d.HEIGHT*i),i,i,0,0),d.onResize.dispatch(!1,!1)},a.__name__=["byteware","geom","Transform"],a.prototype={transform:function(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),this.c_x=t,this.c_y=e,this.c_scaleX=n,this.c_scaleY=s,this.c_pivotX=i,this.c_pivotY=r,this.apply_transform()},pos:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_x=t,this.c_y=e,this.apply_transform()},resize:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_w=0<t?0|t:0,this.c_h=0<e?0|e:0,this.update_bounds()},scale:function(t,e){null==e&&(e=1),null==t&&(t=1),this.c_scaleX=t,this.c_scaleY=e,this.apply_transform()},skew:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_skewX=t,this.c_skewY=e,this.apply_transform()},pivot:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_pivotX=t,this.c_pivotY=e,this.apply_transform()},anchor:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_pivotX=this.c_w*t,this.c_pivotY=this.c_h*e,this.apply_transform()},copyTransform:function(t){return null==t&&(t=new a),t.resize(this.c_w,this.c_h),t.set_mat(this.c_mat),t},resetTransform:function(){this.c_x=this.c_y=this.c_pivotX=this.c_pivotY=this.c_skewX=this.c_skewY=this.c_deg=this.c_rad=0,this.c_scaleX=this.c_scaleY=1,this.apply_transform()},apply_transform:function(){var t,e,n,s,i,r;0==this.c_skewX&&0==this.c_skewY?0==this.c_rad?this.c_mat.set(this.c_scaleX,0,0,this.c_scaleY,this.c_x-this.c_pivotX*this.c_scaleX,this.c_y-this.c_pivotY*this.c_scaleY):(i=Math.sin(this.c_rad),r=Math.cos(this.c_rad),t=this.c_scaleX*r,e=this.c_scaleX*i,n=this.c_scaleY*-i,s=this.c_scaleY*r,i=this.c_x-this.c_pivotX*t-this.c_pivotY*n,r=this.c_y-this.c_pivotX*e-this.c_pivotY*s,this.c_mat.set(t,e,n,s,i,r)):(this.c_mat.set(),this.c_mat.scale(this.c_scaleX,this.c_scaleY),this.c_mat.skew(this.c_skewX,this.c_skewY),this.c_mat.rotate_deg(180*this.c_rad/3.141592653589793),this.c_mat.translate(this.c_x,this.c_y),0==this.c_pivotX&&0==this.c_pivotY||(this.c_mat.e=this.c_x-this.c_mat.a*this.c_pivotX-this.c_mat.c*this.c_pivotY,this.c_mat.f=this.c_y-this.c_mat.b*this.c_pivotX-this.c_mat.d*this.c_pivotY)),this.update_bounds(),this.event_transform()},update_bounds:function(){this.bounds.set(0,0,this.c_w,this.c_h),this.c_mat.transformRect(this.bounds,null)},event_transform:function(){null!=this.e_transform&&this.e_transform.dispatch(!1,!1)},get_onTransform:function(){return null==this.e_transform&&(this.e_transform=new s(!1,!1)),this.e_transform},get_mat:function(){return this.c_mat},set_mat:function(t){return t.copy(this.c_mat),this.c_pivotX=this.c_pivotY=0,this.c_x=t.e,this.c_y=t.f,this.c_skewX=Math.atan(-t.c/t.d),this.c_skewY=Math.atan(t.b/t.a),this.c_scaleX=-.7853981633974483<this.c_skewY&&this.c_skewY<.7853981633974483?t.a/Math.cos(this.c_skewY):t.b/Math.sin(this.c_skewY),this.c_scaleY=-.7853981633974483<this.c_skewX&&this.c_skewX<.7853981633974483?t.d/Math.cos(this.c_skewX):-t.c/Math.sin(this.c_skewX),this.c_skewX-1e-4<this.c_skewY&&this.c_skewX+1e-4>this.c_skewY?(this.c_rad=this.c_skewX,this.c_deg=180*this.c_skewX/3.141592653589793,this.c_skewX=this.c_skewY=0):this.c_rad=this.c_deg=0,this.apply_transform(),t},get_x:function(){return this.c_x},set_x:function(t){return t!=this.c_x&&(this.c_x=t,this.apply_transform()),t},get_y:function(){return this.c_y},set_y:function(t){return t!=this.c_y&&(this.c_y=t,this.apply_transform()),t},get_w:function(){return this.c_w},set_w:function(t){t<0&&(t=0);var e=0|t;return e!=this.c_w&&(this.c_w=e,this.update_bounds()),t},get_h:function(){return this.c_h},set_h:function(t){t<0&&(t=0);var e=0|t;return e!=this.c_h&&(this.c_h=e,this.update_bounds()),t},get_scaleX:function(){return this.c_scaleX},set_scaleX:function(t){return t!=this.c_scaleX&&(this.c_scaleX=t,this.apply_transform()),t},get_scaleY:function(){return this.c_scaleY},set_scaleY:function(t){return t!=this.c_scaleY&&(this.c_scaleY=t,this.apply_transform()),t},get_skewX:function(){return this.c_skewX},set_skewX:function(t){return(t=l.normalize_rad(t))!=this.c_skewX&&(this.c_skewX=t,this.apply_transform()),t},get_skewY:function(){return this.c_skewY},set_skewY:function(t){return(t=l.normalize_rad(t))!=this.c_skewY&&(this.c_skewY=t,this.apply_transform()),t},get_pivotX:function(){return this.c_pivotX},set_pivotX:function(t){return t!=this.c_pivotX&&(this.c_pivotX=t,this.apply_transform()),t},get_pivotY:function(){return this.c_pivotY},set_pivotY:function(t){return t!=this.c_pivotY&&(this.c_pivotY=t,this.apply_transform()),t},get_deg:function(){return this.c_deg},set_deg:function(t){return(t=l.normalize_deg(t))!=this.c_deg&&(this.c_deg=t,this.c_rad=3.141592653589793*t/180,this.apply_transform()),t},get_rad:function(){return this.c_rad},set_rad:function(t){return(t=l.normalize_rad(t))!=this.c_rad&&(this.c_rad=t,this.c_deg=180*t/3.141592653589793,this.apply_transform()),t},__class__:a},_.__name__=["byteware","graphics","RenderObject"],_.__super__=a,_.prototype=t(a.prototype,{crop:function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),null==this.c_vis_area?this.c_vis_area=new H(t,e,n,s):this.c_vis_area.set(t,e,n,s)},draw:function(t){},render:function(t,e,n){var s,i;this.c_vis&&0!=this.c_alpha&&(t.save(),this.c_alpha<1&&t.adjustAlpha(this.c_alpha),s=Math.round(this.c_mat.e),i=Math.round(this.c_mat.f),t.transform(this.c_mat.a,this.c_mat.b,this.c_mat.c,this.c_mat.d,s+e,i+n),null!=this.c_vis_area&&t.crop(0|this.c_vis_area.x,0|this.c_vis_area.y,0|this.c_vis_area.w,0|this.c_vis_area.h),this.draw(t),t.restore())},event_vischange:function(){null!=this.e_vischange&&this.e_vischange.dispatch(!1,!1)},get_onVisChange:function(){return null==this.e_vischange&&(this.e_vischange=new s(!1,!1)),this.e_vischange},get_isVisible:function(){return this.c_vis},set_isVisible:function(t){return t!=this.c_vis&&(this.c_vis=t,this.event_vischange()),t},get_visibleArea:function(){return this.c_vis_area},set_visibleArea:function(t){return this.c_vis_area=null==t?null:t.copy(this.c_vis_area),this.event_vischange(),t},get_alpha:function(){return this.c_alpha},set_alpha:function(t){return t<0?t=0:1<t&&(t=1),t!=this.c_alpha&&(this.c_alpha=t,this.event_vischange()),t},__class__:_}),f.__name__=["DisplayObject"],f.__super__=_,f.prototype=t(_.prototype,{event_added:function(){this.isAdded||(this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1))},event_removed:function(){this.isAdded&&(this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1))},event_touch_begin:function(){this.isTouched||(this.isTouched=!0,null!=this.e_touch_begin&&this.e_touch_begin.dispatch(!1,!1))},event_touch_end:function(){this.isTouched&&(this.isTouched=!1,null!=this.e_touch_end&&this.e_touch_end.dispatch(!1,!1))},event_touch_move:function(){},event_touch_over:function(){this.isOver||(this.isOver=!0,null!=this.e_touch_over&&this.e_touch_over.dispatch(!1,!1))},event_touch_out:function(){this.isOver&&(this.isOver=!1,null!=this.e_touch_out&&this.e_touch_out.dispatch(!1,!1))},submit_touch:function(t,e,n){if(!this.c_vis||!this.c_touchable)return null;this.c_mat.inv_transformCoords(t,e,this.pointer);e=null==this.c_vis_area?0<=this.pointer.x&&0<=this.pointer.y&&this.pointer.x<this.c_w&&this.pointer.y<this.c_h:this.c_vis_area.containsCoords(this.pointer.x,this.pointer.y);return!e&&this.isOver&&this.event_touch_out(),e?this:null},get_onAdded:function(){return null==this.e_added&&(this.e_added=new s(!1,!1)),this.e_added},get_onRemoved:function(){return null==this.e_removed&&(this.e_removed=new s(!1,!1)),this.e_removed},get_onTouchBegin:function(){return null==this.e_touch_begin&&(this.e_touch_begin=new s(!1,!1)),this.e_touch_begin},get_onTouchEnd:function(){return null==this.e_touch_end&&(this.e_touch_end=new s(!1,!1)),this.e_touch_end},get_onOver:function(){return null==this.e_touch_over&&(this.e_touch_over=new s(!1,!1)),this.e_touch_over},get_onOut:function(){return null==this.e_touch_out&&(this.e_touch_out=new s(!1,!1)),this.e_touch_out},get_isTouchable:function(){return this.c_touchable},set_isTouchable:function(t){return t||!this.isOver&&!this.isTouched||this.event_touch_out(),this.c_touchable},__class__:f}),i.__name__=["Sprite"],i.__super__=f,i.prototype=t(f.prototype,{resize:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_scaleX=t/this.c_w,this.c_scaleY=e/this.c_h,this.apply_transform()},draw:function(t){null!=this.c_texture&&t.drawTexture(this.c_texture,0,0)},get_texture:function(){return this.c_texture},set_texture:function(t){return t!=this.c_texture&&(null!=(this.c_texture=t)?(this.c_w=this.c_texture.w,this.c_h=this.c_texture.h,this.c_use_pivot?(this.c_pivotX=this.c_texture.pivotX,this.c_pivotY=this.c_texture.pivotY,this.apply_transform()):this.update_bounds(),this.event_vischange()):this.c_w=this.c_h=0),t},get_useTexturePivot:function(){return this.c_use_pivot},set_useTexturePivot:function(t){return t&&null!=this.c_texture&&(this.c_pivotX=this.c_texture.pivotX,this.c_pivotY=this.c_texture.pivotY,this.apply_transform()),this.c_use_pivot=t},get_w:function(){return this.c_w*this.c_scaleX},set_w:function(t){var e=t/this.c_w;return e!=this.c_scaleX&&(this.c_scaleX=e,this.apply_transform()),t},get_h:function(){return this.c_h*this.c_scaleY},set_h:function(t){var e=t/this.c_h;return e!=this.c_scaleY&&(this.c_scaleY=e,this.apply_transform()),t},__class__:i}),r.__name__=["Bunny"],r.__super__=i,r.prototype=t(i.prototype,{hit:function(){this.c_curr_id=0==this.c_curr_id?1:0,this.set_texture(this.c_textures[this.c_curr_id])},__class__:r});var p={__ename__:!0,__constructs__:["UP","DOWN","LEFT","RIGHT","CENTER","UP_LEFT","UP_RIGHT","DOWN_LEFT","DOWN_RIGHT"],UP:["UP",0]};function o(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),f.call(this,t,e,n,s,i,r),this.numChildren=0,this.c_touchgroup=!1,this.c_children=[],this.cf_sort=null}function u(t,e){this.r=new RegExp(t,e.split("u").join(""))}function c(t,e,n,s,i,r,a,_,o){null==o&&(o=0),null==_&&(_=0),null==a&&(a=1),null==r&&(r=1),null==i&&(i=0),null==s&&(s=0),f.call(this,s,i,r,a,_,o),this.c_color=t,this.resize(e,n)}function E(){}(p.UP.__enum__=p).DOWN=["DOWN",1],(p.DOWN.__enum__=p).LEFT=["LEFT",2],(p.LEFT.__enum__=p).RIGHT=["RIGHT",3],(p.RIGHT.__enum__=p).CENTER=["CENTER",4],(p.CENTER.__enum__=p).UP_LEFT=["UP_LEFT",5],(p.UP_LEFT.__enum__=p).UP_RIGHT=["UP_RIGHT",6],(p.UP_RIGHT.__enum__=p).DOWN_LEFT=["DOWN_LEFT",7],(p.DOWN_LEFT.__enum__=p).DOWN_RIGHT=["DOWN_RIGHT",8],p.DOWN_RIGHT.__enum__=p,o.__name__=["DisplayContainer"],o.__super__=f,o.prototype=t(f.prototype,{draw:function(t){null!=this.cf_sort&&this.c_children.sort(this.cf_sort);for(var e=-1;++e<this.numChildren;)this.c_children[e].render(t,0,0)},sort:function(t,e){null==e&&(e=!0),null!=t&&e?this.c_children.sort(t):this.cf_sort=t},addChild:function(t){return this.addChildAt(t,this.numChildren)},addChildAt:function(t,e){return e<0?e=0:e>this.numChildren&&(e=this.numChildren),t.parent==this?this.setChildIndex(t,e):(null!=t.parent&&t.parent.removeChild(t),this.c_children.splice(e,0,t),(t.parent=this).numChildren++,this.isAdded&&t.event_added(),this.update_bounds(),this.event_vischange()),t},removeChild:function(t){var e=this.c_children.indexOf(t);return-1==e?t:this.removeChildAt(e)},removeChildAt:function(t){t<0?t=0:t>this.numChildren-1&&(t=this.numChildren-1);var e=this.c_children[t];return null!=e&&(e.event_removed(),e.parent=null,this.c_children.splice(t,1),this.numChildren--,this.update_bounds(),this.event_vischange()),e},removeChildren:function(t,e){for(null==e&&(e=-1),null==t&&(t=0),e<0&&(e=this.numChildren);t<e;)this.removeChildAt(t),++t},getChildAt:function(t){return t<0?t=0:t>this.numChildren-1&&(t=this.numChildren-1),this.c_children[t]},getChildIndex:function(t){return this.c_children.indexOf(t)},setChildIndex:function(t,e){e<0?e=0:e>this.numChildren-1&&(e=this.numChildren-1);var n=this.c_children.indexOf(t);return n!=e&&-1!=n&&(this.c_children.splice(n,1),this.c_children.splice(e,0,t),!0)},swapChildren:function(t,e){var n=this.c_children.indexOf(t),s=this.c_children.indexOf(e);return-1!=n&&-1!=s&&(this.c_children[n]=e,this.c_children[s]=t,!0)},swapChildrenAt:function(t,e){var n=this.c_children[t],s=this.c_children[e];return null!=n&&null!=s&&(this.c_children[t]=s,this.c_children[e]=n,!0)},event_added:function(){if(!this.isAdded){this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1);for(var t=-1;++t<this.numChildren;)this.c_children[t].event_added()}},event_removed:function(){if(this.isAdded){this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1);for(var t=-1;++t<this.numChildren;)this.c_children[t].event_removed()}},submit_touch:function(t,e,n){if(!this.c_vis||!this.c_touchable)return null;if(this.c_mat.inv_transformCoords(t,e,this.pointer),null!=this.c_vis_area&&!this.c_vis_area.containsCoords(this.pointer.x,this.pointer.y))return null;for(var s,i=this.numChildren;-1<--i;)if(null!=(s=this.c_children[i].submit_touch(this.pointer.x,this.pointer.y,n)))return this.c_touchgroup?this:s;return null},resize:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_scaleX=t/this.c_w,this.c_scaleY=e/this.c_h,this.apply_transform()},update_bounds:function(){if(this.bounds.set(),(this.c_w=this.c_h=0)!=this.numChildren){if(1==this.numChildren)this.c_children[0].bounds.copy(this.bounds);else for(var t=-1;++t<this.numChildren;)this.bounds.expand(this.c_children[t].bounds);this.c_w=Math.round(this.bounds.w),this.c_h=Math.round(this.bounds.h),this.c_mat.transformRect(this.bounds)}},get_isTouchGroup:function(){return this.c_touchgroup},set_isTouchGroup:function(t){return t||!this.isOver&&!this.isTouched||this.event_touch_out(),this.c_touchgroup=t},set_w:function(t){var e=t/this.c_w;return e!=this.c_scaleX&&(this.c_scaleX=e,this.apply_transform()),t},set_h:function(t){var e=t/this.c_h;return e!=this.c_scaleY&&(this.c_scaleY=e,this.apply_transform()),t},__class__:o}),u.__name__=["EReg"],u.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},__class__:u},c.__name__=["FillRect"],c.__super__=f,c.prototype=t(f.prototype,{draw:function(t){0!=this.c_w&&0!=this.c_h&&t.drawRect(this.c_color,0,0,this.c_w,this.c_h)},__class__:c}),E.__name__=["HxOverrides"],E.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),n=new Date;return n.setTime(0),n.setUTCHours(e[0]),n.setUTCMinutes(e[1]),n.setUTCSeconds(e[2]),n;case 10:var s=t.split("-");return new Date(s[0],s[1]-1,s[2],0,0,0);case 19:n=t.split(" "),s=n[0].split("-"),n=n[1].split(":");return new Date(s[0],s[1]-1,s[2],n[0],n[1],n[2]);default:throw new q("Invalid date format : "+t)}},E.cca=function(t,e){e=t.charCodeAt(e);if(e==e)return e},E.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},E.remove=function(t,e){e=t.indexOf(e);return-1!=e&&(t.splice(e,1),!0)},E.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var h=function(){};h.__name__=["Main"],h.main=function(){d.start("drunkbunnymark",480,960,480,640),d.onStarted.on(h.preload,0)},h.preload=function(){g.addTexture("assets","assets.png"),g.addTexture("font","font.png"),g.addString("font","font.fnt"),g.load(h.precache)},h.precache=function(){var t=new c(2302755,d.WIDTH,d.HEIGHT);d.root.addChild(t),new N("font",g.getTexture("font"),g.getString("font"),!0,!0),h.gfx=new X;t=g.getTexture("assets").asset;h.gfx.addTexture(t,"0_1",0,0,60,90,30,86),h.gfx.addTexture(t,"0_0",60,0,60,90,30,86),h.gfx.addTexture(t,"1_1",120,0,60,90,30,86),h.gfx.addTexture(t,"1_0",180,0,60,90,30,86),h.gfx.addTexture(t,"2_1",0,90,60,90,30,86),h.gfx.addTexture(t,"2_0",60,90,60,90,30,86),h.gfx.addTexture(t,"3_1",120,90,60,90,30,86),h.gfx.addTexture(t,"3_0",180,90,60,90,30,86);t="BYTEWARE ENGINE "+h.ENGINE_VERSION+"\n";t+="RENDERER : "+T.string(d.platform.get_renderer().type)+"\n",t+="DISPLAY  : "+d.platform.get_display().get_w()+"x"+d.platform.get_display().get_h()+"\n",t+="VIEWPORT : "+d.CURRENT_WIDTH+"x"+d.CURRENT_HEIGHT+"\n";var e=new b("font",t+="\nTap to start...",400,400,p.LEFT,!0,null,d.LEFT+20,d.TOP+20);d.root.addChild(e);var n=function(){d.root.get_onTouchEnd().off(n),d.root.removeChild(e),d.ticker.add(h.update)};d.root.get_onTouchEnd().on(n),h.resize()},h.resize=function(){h.min_x=d.LEFT+30,h.min_y=d.TOP+86,h.max_x=d.RIGHT-30,h.max_y=d.BOTTOM},h.update=function(t){for(var e=-1;++e<h.num_buns;){var n=h.buns[e],s=n.get_x(),i=n.get_y(),r=!1;s+=n.speedX,i+=n.speedY,n.speedY+=h.gravity,s<h.min_x?(s=h.min_x,n.speedX*=-1,n.set_scaleX(-1*n.get_scaleX()),r=!0):s>h.max_x&&(s=h.max_x,n.speedX*=-1,n.set_scaleX(-1*n.get_scaleX()),r=!0),i<h.min_y?(i=h.min_y,r=!(n.speedY=0)):i>h.max_y&&(i=h.max_y,n.speedY*=-1,r=!0),n.pos(s,i),r&&n.hit()}h.fps_elapsed+=t,h.fps_current++,1<=h.fps_elapsed&&(h.fps_current>=h.target_fps?(h.fps_retries=3,h.is_adding_bunnies=!0):(h.fps_retries--,h.is_adding_bunnies=!1,h.fps_retries<=0&&(h.fps_retries=3,h.go_down())),h.fps_elapsed=0,h.fps_current=0),h.is_adding_bunnies&&h.addBunny()},h.addBunny=function(){var t=new r(h.min_x,h.min_y);t.speedX=2.5*Math.random()+3.25,t.speedY=5*Math.random(),d.root.addChild(t),h.buns[h.num_buns++]=t},h.go_down=function(){h.target_fps-=5,h.stats_fps.push(h.num_buns),h.target_fps<h.MIN_FPS-5&&h.end_test()},h.end_test=function(){d.ticker.remove(h.update);for(var t=h.num_buns;-1<--t;)d.root.removeChild(h.buns[t]);h.buns=[];for(var e="TEST RESULTS:\n",n=-1,s=h.stats_fps.length;++n<s;)e+=60-5*n+"fps : "+h.stats_fps[n]+"\n";var i=new b("font",e,400,400,p.CENTER,!0,null,.5*d.WIDTH-200,.5*d.HEIGHT-200);d.root.addChild(i)},Math.__name__=["Math"];var l=function(){};function v(){}l.__name__=["MathTools"],l.distf=function(t,e,n,s){t=n-t,e=s-e;return Math.sqrt(t*t+e*e)},l.rad=function(t,e,n,s){return Math.atan2(e-s,t-n)},l.deg=function(t,e,n,s){return 180*Math.atan2(e-s,t-n)/3.141592653589793},l.normalize_rad=function(t){return(t%=6.28318530718)<-3.141592653589793&&(t+=6.28318530718),3.141592653589793<t&&(t-=6.28318530718),t},l.normalize_deg=function(t){return(t%=360)<0&&(t+=360),360<t&&(t-=360),t},l.rad2deg=function(t){return 180*t/3.141592653589793},l.deg2rad=function(t){return 3.141592653589793*t/180},l.absf=function(t){return t<0?-t:t},l.difff=function(t,e){return e<t?t-e:e-t},l.clampf=function(t,e,n){return t<e?e:n<t?n:t},l.isEvenf=function(t){return t%2==0},l.isOddf=function(t){return t%2!=0},l.absi=function(t){return t<0?-t:t},l.diffi=function(t,e){return e<t?t-e:e-t},l.clampi=function(t,e,n){return t<e?e:n<t?n:t},l.isEveni=function(t){return 0==(1&t)},l.isOddi=function(t){return 0!=(1&t)},l.isPow2=function(t){return 0<t&&0==(t&t-1)},l.nextPow2=function(t){--t;return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,1+(t|=t>>16)},l.min2f=function(t,e){return t<e?t:e},l.max2f=function(t,e){return e<t?t:e},l.min3f=function(t,e,n){return t<e?t<n?t:n:e<n?e:n},l.max3f=function(t,e,n){return e<t?n<t?t:n:n<e?e:n},l.min4f=function(t,e,n,s){e=t<e?t:e,s=n<s?n:s;return e<s?e:s},l.max4f=function(t,e,n,s){e=e<t?t:e,s=s<n?n:s;return s<e?e:s},l.min2i=function(t,e){return t<e?t:e},l.max2i=function(t,e){return e<t?t:e},l.min3i=function(t,e,n){return t<e?t<n?t:n:e<n?e:n},l.max3i=function(t,e,n){return e<t?n<t?t:n:n<e?e:n},l.min4i=function(t,e,n,s){e=t<e?t:e,s=n<s?n:s;return e<s?e:s},l.max4i=function(t,e,n,s){e=e<t?t:e,s=s<n?n:s;return s<e?e:s},v.__name__=["Reflect"],v.field=function(t,e){try{return t[e]}catch(t){return null}};var m=function(){};m.__name__=["ReflectTools"],m.call=function(t,e){return null!=t&&(t.apply(t,e),!0)},m.hasField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&!(t.__properties__&&t.__properties__["set_"+e])};var g=function(){};g.__name__=["Res"],g.create_asset_pack=function(t){null==t&&(t="default");var e=g.g_base_packs,n=null!=St[t]?e.getReserved(t):e.h[t];return null==n&&(n=new I(t),e=g.g_base_packs,null!=St[t]?e.setReserved(t,n):e.h[t]=n),n},g.create_asset=function(t,e,n,s,i){s=g.create_asset_pack(s),n=new D(t,e,n);n.flag_remove_entry=i,s.add(n)},g.load=function(t,e){for(var n=g.g_base_packs.keys();n.hasNext();){var s=n.next(),i=g.g_base_packs;(null!=St[s]?i.getReserved(s):i.h[s]).load_assets(null)}return d.platform.get_loader().start(t,e)},g.loadAssetPack=function(t,e,n){var s=g.g_base_packs,t=null!=St[t]?s.getReserved(t):s.h[t];return null!=t&&t.load_assets(null),d.platform.get_loader().start(e,n)},g.loadAssetPacks=function(t,e,n){for(var s=-1,i=t.length;++s<i;){var r=g.g_base_packs,a=t[s],a=null!=St[a]?r.getReserved(a):r.h[a];null!=a&&a.load_assets(null)}return d.platform.get_loader().start(e,n)},g.getAssetPack=function(t){var e=g.g_base_packs;return null!=St[t]?e.getReserved(t):e.h[t]},g.getAssetPacks=function(t){for(var e=[],n=-1,s=t.length;++n<s;){var i=g.g_base_packs,r=t[n],r=null!=St[r]?i.getReserved(r):i.h[r];null!=r&&e.push(r)}return e},g.removeAssetPack=function(t){var e=g.g_base_packs,e=null!=St[t]?e.getReserved(t):e.h[t];return null!=e&&(e.dispose(),g.g_base_packs.remove(t),!0)},g.removeAssetPacks=function(t){for(var e=!0,n=-1,s=t.length;++n<s;)g.removeAssetPack(t[n])||(e=!1);return e},g.addTexture=function(t,e,n){var s=g.g_base_textures,s=null!=St[t]?s.getReserved(t):s.h[t];return(null==s||null==s.info||s.info.path!=e)&&(g.create_asset(t,e,A.TEXTURE,n,!1),!0)},g.getTexture=function(t){var e=g.g_base_textures,t=null!=St[t]?e.getReserved(t):e.h[t];return null==t?null:t.texture},g.setTexture=function(t,e,n){null==n&&(n=!0);var s=g.g_base_textures;if(null!=(null!=St[t]?s.getReserved(t):s.h[t])){if(!n)return!1;g.removeTexture(t,!0)}n=g.g_base_textures;return null!=St[t]?n.setReserved(t,e):n.h[t]=e,null!=e.info&&(e.info.name=t),!0},g.removeTexture=function(t,e){null==e&&(e=!0);var n=g.g_base_textures,n=null!=St[t]?n.getReserved(t):n.h[t];return null!=n&&e&&n.dispose(),g.g_base_textures.remove(t)},g.addString=function(t,e,n,s,i){null==i&&(i=!0),null==s&&(s=!0);var r=g.g_base_strings;return!(null!=(null!=St[t]?r.getReserved(t):r.h[t])&&!i)&&(g.create_asset(t,e,A.STRING,n,s),!0)},g.getString=function(t,e){null==e&&(e=!0);var n=g.g_base_strings,n=null!=St[t]?n.getReserved(t):n.h[t];return e&&g.g_base_strings.remove(t),n},g.setString=function(t,e,n){if(null==n&&(n=!0),!n&&(s=g.g_base_strings,null!=(null!=St[t]?s.getReserved(t):s.h[t])))return!1;var s=g.g_base_strings;return null!=St[t]?s.setReserved(t,e):s.h[t]=e,!0},g.removeString=function(t){return g.g_base_strings.remove(t)},g.addSound=function(t,e,n){var s=g.g_base_sounds,s=null!=St[t]?s.getReserved(t):s.h[t];return(null==s||null==s.info||s.info.path!=e)&&(g.create_asset(t,e,A.SOUND,n,!1),!0)},g.getSound=function(t){var e=g.g_base_sounds;return null!=St[t]?e.getReserved(t):e.h[t]},g.setSound=function(t,e,n){null==n&&(n=!0);var s=g.g_base_sounds;if(null!=(null!=St[t]?s.getReserved(t):s.h[t])){if(!n)return!1;g.removeSound(t,!0)}n=g.g_base_sounds;return null!=St[t]?n.setReserved(t,e):n.h[t]=e,null!=e.info&&(e.info.name=t),!0},g.removeSound=function(t,e){null==e&&(e=!0);var n=g.g_base_sounds,n=null!=St[t]?n.getReserved(t):n.h[t];return null!=n&&e&&n.dispose(),g.g_base_sounds.remove(t)};var w=function(){};w.__name__=["SFX"],w.createMixerChannel=function(t,e,n){null==n&&(n=!0),null==e&&(e=!1),null==t&&(t="channel");for(var s=t,i=1;!function(t){for(var e=-1;++e<w.numChannels;)if(w.g_base_channels[e].name==t)return!1;return!0}(s);)s=t+i++;var r=w.numChannels++,e=new(n?F:U)(s,e);return e.id=r,w.g_base_channels[r]=e,r},w.getMixerChannelAt=function(t){return w.g_base_channels[t]},w.getMixerChannel=function(t){for(var e,n=-1;++n<w.numChannels;)if((e=w.g_base_channels[n]).name==t)return e;return null},w.stopMixerChannelAt=function(t){t=w.g_base_channels[t];return null!=t&&(t.stop(),!0)},w.stopMixerChannelsAt=function(t,e){for(null==t&&(t=0),t<0&&(t=0),(null==e||e>=w.numChannels)&&(e=w.numChannels-1);t<=e;)w.g_base_channels[t].stop(),++t},w.stopMixerChannel=function(t){t=w.getMixerChannel(t);return null!=t&&(t.stop(),!0)},w.play=function(t,e,n,s,i,r){null==s&&(s=1),null==n&&(n=!1),null==e&&(e=1);var a=w.g_base_sounds,t=null!=St[t]?a.getReserved(t):a.h[t];return(s<0||s>=w.numChannels?w.g_base_channels[1]:w.g_base_channels[s]).play(t,e,n,i,r)},w.playTrack=function(t,e,n,s,i,r){return null==s&&(s=2),null==n&&(n=!0),null==e&&(e=1),w.play(t,e,n,s,i,r)},w.stopTrack=function(){w.g_base_channels[2].stop()},w.init=function(){w.g_base_channels=[],w.g_base_volume=new W,w.g_base_sounds=g.g_base_sounds,w.createMixerChannel("master",!0,!0),w.createMixerChannel("sound",!1,!0),w.createMixerChannel("music",!1,!1)},w.event_activate=function(t){for(var e=-1;++e<w.numChannels;)w.g_base_channels[e].event_activate(t)},w.event_pause=function(t){for(var e=-1;++e<w.numChannels;)w.g_base_channels[e]};var T=function(){};function C(){this.b=""}T.__name__=["Std"],T.string=function(t){return K.__string_rec(t,"")},T.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=E.cca(t,1)&&88!=E.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},T.random=function(t){return t<=0?0:Math.floor(Math.random()*t)},C.__name__=["StringBuf"],C.prototype={__class__:C};var b=function(t,e,n,s,i,r,a,_,o,u,c,h,l){null==l&&(l=0),null==h&&(h=0),null==c&&(c=1),null==u&&(u=1),null==o&&(o=0),null==_&&(_=0),null==r&&(r=!1),null==s&&(s=0),null==n&&(n=0),f.call(this,_,o,u,c,h,l),this.c_font=O.getFont(t),this.c_text=e,this.c_align=null==i?p.UP_LEFT:i,this.c_hor_space=this.c_ver_space=this.c_vert_offset=0,this.c_wrapping=!0,this.c_offset_x=this.c_offset_y=2,this.c_changed=null!=e,this.c_font_size=null==this.c_font?0:this.c_font.size,this.c_w=n,this.c_h=s,this.textBounds=new H,this.numChars=this.numGlyphs=this.numLines=0,this.update_layout()};function y(){}function k(t){this.nodeType=t,this.children=[],this.attributeMap=new W}b.__name__=["TextField"],b.__super__=f,b.prototype=t(f.prototype,{offset:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_offset_x=t,this.c_offset_y=e,this.event_text_change()},spaces:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_hor_space=t,this.c_ver_space=e,this.event_text_change()},draw:function(t){if(null!=this.c_font){this.c_changed&&this.update_layout(),t.save(),t.scale(this.c_context_scale,this.c_context_scale);for(var e=this.c_vert_offset,n=-1,s=this.c_glyphs.length;++n<s;){var i=this.c_glyphs[n];10==i.charCode?e+=this.c_line_offset:i.draw(t,this.c_offsets[n],e)}t.restore()}},event_text_change:function(){this.c_changed=!0,this.event_vischange()},update_layout:function(){var e=this;if(this.c_changed=!1,this.c_glyphs=[],this.c_offsets=[],this.numLines=0,null!=this.c_text&&null!=this.c_font){this.c_context_scale=this.c_font_size/this.c_font.size;for(var t=1/this.c_context_scale,n=this.c_offset_x*t,s=this.c_offset_y*t,i=this.c_w*t-n,r=(this.c_h,-1),a=this.c_text.length;++r<a;){var _=this.c_font.getGlyph(E.cca(this.c_text,r));null!=_&&this.c_glyphs.push(_)}this.c_line_offset=this.c_font.lineHeight+this.c_ver_space;for(var o=[],u=-1,c=n,h=0,l=this.c_font.getGlyph(10),d=function(){var t=e.textBounds.w;e.textBounds.w=c<t?t:c,e.textBounds.h+=h,o[e.numLines++]=c,c=n,h=0},r=-1,a=this.c_glyphs.length;++r<a;){var f=this.c_glyphs[r];this.c_offsets[r]=c;var p=this.c_wrapping&&0<this.c_w&&c+f.w>i;p||f==l?(p&&(-1!=u?(this.c_glyphs[u]=l,c=this.c_offsets[u],r=u):this.c_glyphs.splice(r,0,l)),u=-1,h=this.c_line_offset,d()):(10==f.charCode&&(u=r),c+=f.advance+this.c_hor_space,(p=f.h+f.offsetY)<h||(h=p),r+1<a&&(p=this.c_glyphs[r+1],c+=f.getKerning(p.charCode)))}d();var v=function(t){switch(e.c_align[1]){case 0:case 1:case 4:return.5*(i-t);case 3:case 6:case 8:return i-t;default:return 0}},m=0,g=v(o[0]),w=179769313486231e294,b=-179769313486231e294,y=0;for(r=-1,a=this.c_glyphs.length;++r<a;){var x=this.c_glyphs[r];x==l&&(m+=this.c_line_offset,g=v(o[++y])),this.c_offsets[r]+=g;var T=m+x.offsetY;w<T||(w=T);x=T+x.h;x<b||(b=x)}}},get_w:function(){return this.c_w},set_w:function(t){var e=0|t;return e!=this.c_w&&(this.c_w=e,this.update_bounds(),this.event_text_change(),this.event_transform()),t},get_h:function(){return this.c_h},set_h:function(t){var e=0|t;return e!=this.c_h&&(this.c_h=e,this.update_bounds(),this.event_text_change(),this.event_transform()),t},get_font:function(){return null==this.c_font?null:this.c_font.name},set_font:function(t){var e=O.getFont(t);return null!=e&&e!=this.c_font&&(this.c_font=e,this.event_text_change()),t},get_text:function(){return this.c_text},set_text:function(t){return this.c_text!=t&&(this.c_text=t,this.event_text_change()),t},get_align:function(){return this.c_align},set_align:function(t){return null==t&&(t=p.UP_LEFT),t!=this.c_align&&(this.c_align=t,this.event_text_change()),t},get_horSpace:function(){return this.c_hor_space},set_horSpace:function(t){return t!=this.c_hor_space&&(this.c_hor_space=t,this.event_text_change()),t},get_verSpace:function(){return this.c_ver_space},set_verSpace:function(t){return t!=this.c_ver_space&&(this.c_ver_space=t,this.event_text_change()),t},get_size:function(){return this.c_font_size},set_size:function(t){return t<2&&(t=2),t!=this.c_font_size&&(this.c_font_size=t,this.event_text_change()),t},get_isWrappingEnabled:function(){return this.c_wrapping},set_isWrappingEnabled:function(t){return t!=this.c_wrapping&&(this.c_wrapping=t,this.event_text_change()),t},get_offsetX:function(){return this.c_offset_x},set_offsetX:function(t){return t!=this.c_offset_x&&(this.c_offset_x=t,this.event_text_change()),t},get_offsetY:function(){return this.c_offset_y},set_offsetY:function(t){return t!=this.c_offset_y&&(this.c_offset_y=t,this.event_text_change()),t},__class__:b}),y.__name__=["Type"],y.getClassName=function(t){t=t.__name__;return null==t?null:t.join(".")},k.__name__=["Xml"],k.parse=function(t){return j.parse(t)},k.createElement=function(t){var e=new k(k.Element);if(e.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},k.createPCData=function(t){var e=new k(k.PCData);if(e.nodeType==k.Document||e.nodeType==k.Element)throw new q("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},k.createCData=function(t){var e=new k(k.CData);if(e.nodeType==k.Document||e.nodeType==k.Element)throw new q("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},k.createComment=function(t){var e=new k(k.Comment);if(e.nodeType==k.Document||e.nodeType==k.Element)throw new q("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},k.createDocType=function(t){var e=new k(k.DocType);if(e.nodeType==k.Document||e.nodeType==k.Element)throw new q("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},k.createProcessingInstruction=function(t){var e=new k(k.ProcessingInstruction);if(e.nodeType==k.Document||e.nodeType==k.Element)throw new q("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},k.createDocument=function(){return new k(k.Document)},k.prototype={get:function(t){if(this.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=St[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+this.nodeType);var n=this.attributeMap;null!=St[t]?n.setReserved(t,e):n.h[t]=e},exists:function(t){if(this.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=St[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},elementsNamed:function(t){if(this.nodeType!=k.Document&&this.nodeType!=k.Element)throw new q("Bad node type, expected Element or Document but found "+this.nodeType);for(var e=[],n=0,s=this.children;n<s.length;){var i,r=s[n];if(++n,r.nodeType==k.Element){if(r.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+r.nodeType);i=r.nodeName==t}else i=!1;i&&e.push(r)}return E.iter(e)},firstElement:function(){if(this.nodeType!=k.Document&&this.nodeType!=k.Element)throw new q("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var n=e[t];if(++t,n.nodeType==k.Element)return n}return null},addChild:function(t){if(this.nodeType!=k.Document&&this.nodeType!=k.Element)throw new q("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=k.Document&&this.nodeType!=k.Element)throw new q("Bad node type, expected Element or Document but found "+this.nodeType);return!!E.remove(this.children,t)&&!(t.parent=null)},__class__:k};var x=function(t,e){o.call(this),this.root_w=t,this.root_h=e};x.__name__=["byteware","RootContainer"],x.__super__=o,x.prototype=t(o.prototype,{render:function(t,e,n){for(var s=-1;++s<this.numChildren;)this.c_children[s].render(t,0,0)},submitTouch:function(t,e,n,s){this.c_mat.inv_transformCoords(e,n,this.pointer);for(var i=null,r=this.numChildren;-1<--r&&null==(i=this.c_children[r].submit_touch(this.pointer.x,this.pointer.y,s)););switch(s[1]){case 0:null!=i&&i.event_touch_begin(),this.event_touch_begin();break;case 1:null!=i&&i.event_touch_move(),this.event_touch_move();break;case 2:null!=i&&i.event_touch_over(),this.event_touch_over();break;case 3:null!=i&&i.event_touch_end(),this.event_touch_end()}return!0},addChildAt:function(t,e){return e<0?e=0:e>this.numChildren&&(e=this.numChildren),t.parent==this?this.setChildIndex(t,e):(null!=t.parent&&t.parent.removeChild(t),this.c_children.splice(e,0,t),(t.parent=this).numChildren++,t.event_added(),this.update_bounds(),this.event_vischange()),t},__class__:x});var R=function(t,e){null==e&&(e=!0),null==t&&(t=!1),this.isGlobal=t,this.isDisposable=e,this.delta=0,this.c_coef=1,this.clear(),this.c_paused=this.c_manual=!1,R.g_base[R.numTickers++]=this};function S(){this.isLoaded=!1}R.__name__=["byteware","Ticker"],R.event_update=function(){R.g_curr=(new Date).getTime()/1e3,R.globalDelta=.001*(1e3*(R.g_curr-R.g_prev)|0)*R.g_coef,R.g_prev=R.g_curr,(R.globalDelta<0||1<R.globalDelta)&&(R.globalDelta=0);for(var t=-1;++t<R.numTickers;)R.g_base[t].update()},R.event_pause=function(t){if(t)for(var e=-1;++e<R.numTickers;){var n=R.g_base[e];n.isGlobal||(n.c_paused=!0)}else for(var s=-1;++s<R.numTickers;){var i=R.g_base[s];i.c_paused=i.c_manual}},R.event_clear=function(){for(var t=R.numTickers;-1<--t;){var e=R.g_base[t];e.isDisposable&&e.dispose()}},R.normalize=function(){R.g_curr=R.g_prev=(new Date).getTime()/1e3},R.get_globalScale=function(){return R.g_coef},R.set_globalScale=function(t){return t<0&&(t*=-1),R.g_coef=t},R.prototype={add:function(t){var e=-1==this.c_base.indexOf(t);return e&&(this.c_base[this.numFunctions++]=t),e},remove:function(t){t=this.c_base.indexOf(t);return-1!=t&&(this.c_base.splice(t,1),this.numFunctions--,!0)},clear:function(){return!(this.numFunctions<=0)&&(this.c_base=[],!(this.numFunctions=0))},dispose:function(){var t=R.g_base.indexOf(this);-1!=t&&(R.g_base.splice(t,1),R.numTickers--,this.c_base=null,this.numFunctions=-1)},update:function(){if(this.delta=R.globalDelta*this.c_coef,!this.c_paused)for(var t=-1;++t<this.numFunctions;)this.c_base[t](this.delta)},get_isPaused:function(){return this.c_manual},set_isPaused:function(t){return this.c_paused=this.c_manual=t},get_scale:function(){return this.c_coef},set_scale:function(t){return t<0&&(t*=-1),this.c_coef=t},__class__:R},S.__name__=["byteware","assets","Asset"],S.prototype={upload:function(t){return!1},reload:function(){return null!=this.info&&(d.platform.get_loader().add(this.info),!0)},unload:function(){return!1},dispose:function(){null!=this.e_dispose&&this.e_dispose.dispatch(!1,!1),this.unload(),null!=this.info&&(this.info.pack.remove(this.info),this.info.root=null,this.info=null),this.e_reloaded=null,this.e_dispose=null},get_onReloaded:function(){return null==this.e_reloaded&&(this.e_reloaded=new s(!1,!1)),this.e_reloaded},get_onDispose:function(){return null==this.e_dispose&&(this.e_dispose=new s(!1,!1)),this.e_dispose},__class__:S};var D=function(t,e,n){this.name=t,this.path=e,this.type=n,this.pack=null,this.root=null,this.flag_remove_entry=!1};D.__name__=["byteware","assets","AssetInfo"],D.prototype={__class__:D};var I=function(t){this.name=t,this.numAssets=0,this.c_base=[]};I.__name__=["byteware","assets","AssetPack"],I.prototype={dispose:function(){this.unload_assets(null),this.c_base=null,this.numAssets=-1},add:function(t){return-1==this.c_base.indexOf(t)&&(null!=t.pack&&t.pack.remove(t),(this.c_base[this.numAssets++]=t).pack=this,!0)},get:function(t,e){for(var n=-1;++n<this.numAssets;){var s=this.c_base[n];if(s.name==t&&s.type==e)return s}return null},exists:function(t,e){return null!=this.get(t,e)},remove:function(t){var e=this.c_base.indexOf(t);return-1!=e&&(t.pack=null,this.c_base.splice(e,1),this.numAssets--,!0)},removeTextures:function(){return this.remove_assets(A.TEXTURE)},removeStrings:function(){return this.remove_assets(A.STRING)},removeSounds:function(){return this.remove_assets(A.SOUND)},removeAll:function(){return this.remove_assets(null)},loadAll:function(){return this.load_assets(null)},loadTextures:function(){return this.load_assets(A.TEXTURE)},loadStrings:function(){return this.load_assets(A.STRING)},loadSounds:function(){return this.load_assets(A.SOUND)},reloadAll:function(){return this.reload_assets(null)},reloadTextures:function(){return this.reload_assets(A.TEXTURE)},reloadStrings:function(){return this.load_assets(A.STRING)},reloadSounds:function(){return this.reload_assets(A.SOUND)},unloadAll:function(){return this.unload_assets(null)},unloadTextures:function(){return this.unload_assets(A.TEXTURE)},unloadSounds:function(){return this.unload_assets(A.SOUND)},remove_assets:function(t){for(var e=this.numAssets;-1<--e;){var n=this.c_base[e];if(null==t||t==n.type){switch(t[1]){case 0:break;case 1:g.removeString(n.name)}this.remove(n)}}return!1},load_assets:function(t){for(var e=!1,n=-1;++n<this.numAssets;){var s=this.c_base[n];null!=t&&t!=s.type||null!=s.root&&s.root.isLoaded||(d.platform.get_loader().add(s),e=!0)}return e},reload_assets:function(t){for(var e=!1,n=-1;++n<this.numAssets;){var s=this.c_base[n];null!=t&&t!=s.type||null!=s.root&&s.root.isLoaded&&(d.platform.get_loader().add(s),e=!0)}return e},unload_assets:function(t){for(var e=!1,n=-1;++n<this.numAssets;){var s=this.c_base[n];null!=s.root&&s.root.unload()&&(e=!0)}return e},get_isLoaded:function(){return this.get_numLoaded()==this.numAssets},get_numLoaded:function(){for(var t=0,e=-1;++e<this.numAssets;){var n=this.c_base[e];null!=n.root&&n.root.isLoaded&&++t}return t},__class__:I};var A={__ename__:!0,__constructs__:["TEXTURE","STRING","SOUND"],TEXTURE:["TEXTURE",0]};(A.TEXTURE.__enum__=A).STRING=["STRING",1],(A.STRING.__enum__=A).SOUND=["SOUND",2],A.SOUND.__enum__=A;var O=function(t,e,n,s){null==s&&(s=!0),null==n&&(n=!1),this.name=t,this.texture=e,this.size=this.lineHeight=0,this.c_glyphs=new B;e=new P(10);this.c_glyphs.h[10]=e,s&&O.registerFont(this,n,!0)};O.__name__=["byteware","graphics","Font"],O.registerFont=function(t,e,n){null==n&&(n=!0),null==e&&(e=!1),null==O.g_font_base&&(O.g_font_base=new W,e=!0);var s=t.name,i=O.g_font_base;if(null!=(null!=St[s]?i.getReserved(s):i.h[s])){if(!n)return!1;O.removeFont(s,!0)}n=O.g_font_base;return null!=St[s]?n.setReserved(s,t):n.h[s]=t,O.numFonts++,e&&(O.defaultFont=t),!0},O.removeFont=function(t,e){if(null==e&&(e=!0),null==O.g_font_base||(n=O.g_font_base,null==(null!=St[t]?n.getReserved(t):n.h[t])))return!1;var n=O.defaultFont.name==t;if(e&&(e=O.g_font_base,(null!=St[t]?e.getReserved(t):e.h[t]).dispose()),O.g_font_base.remove(t),O.numFonts--,n)if(0==O.numFonts)O.defaultFont=null;else for(var s=O.g_font_base.keys();s.hasNext();){var i=s.next(),r=O.g_font_base;O.defaultFont=null!=St[i]?r.getReserved(i):r.h[i];break}return!0},O.makeDefault=function(t){if(null==O.g_font_base||(e=O.g_font_base,null==(null!=St[t]?e.getReserved(t):e.h[t])))return!1;var e=O.g_font_base;return O.defaultFont=null!=St[t]?e.getReserved(t):e.h[t],!0},O.getFont=function(t){if(null==O.g_font_base)return null;if(null==t||(e=O.g_font_base,null==(null!=St[t]?e.getReserved(t):e.h[t])))return O.defaultFont;var e=O.g_font_base;return null!=St[t]?e.getReserved(t):e.h[t]},O.hasFont=function(t){if(null==O.g_font_base)return!1;var e=O.g_font_base;return null!=(null!=St[t]?e.getReserved(t):e.h[t])},O.prototype={dispose:function(){this.c_glyphs=null,this.texture=null},addGlyph:function(t,e,n,s,i){return this.addExternalGlyph(t,this.texture,e,n,s,i)},addExternalGlyph:function(t,e,n,s,i,r){var a=new P(t);return a.setTexture(e,n,s,i,r),this.c_glyphs.h[t]=a},getGlyph:function(t){return this.c_glyphs.h[t]},__class__:O};var N=function(t,e,n,s,i){null==i&&(i=!0),null==s&&(s=!1),O.call(this,t,e,s,i),this.parse(n)};N.__name__=["byteware","format","FontFNT"],N.__super__=O,N.prototype=t(O.prototype,{parse:function(t){var e=k.parse(t),n=e.elementsNamed("info").next();null==n&&(n=(e=e.firstElement()).elementsNamed("info").next());t=e.elementsNamed("common").next();this.size=T.parseInt(n.get("size")),this.lineHeight=T.parseInt(t.get("lineHeight")),this.size<0&&(this.size*=-1);for(var s=e.elementsNamed("chars").next().elementsNamed("char");s.hasNext();){var i=s.next(),r=T.parseInt(i.get("id")),a=T.parseInt(i.get("x")),_=T.parseInt(i.get("y")),o=T.parseInt(i.get("width")),u=T.parseInt(i.get("height")),c=T.parseInt(i.get("xoffset")),h=T.parseInt(i.get("yoffset")),i=T.parseInt(i.get("xadvance"));this.addExternalGlyph(r,this.texture,a,_,o,u).setOffsets(c,h,i)}if(e.exists("kernings"))for(var l=e.elementsNamed("kernings").next().elementsNamed("kerning");l.hasNext();){var d=l.next(),f=T.parseInt(d.get("first")),p=this.getGlyph(f);null!=p&&(f=T.parseInt(d.get("second")),d=T.parseInt(d.get("amount")),p.setKerning(f,d))}},__class__:N});var L=function(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=0),null==e&&(e=0),null==t&&(t=1),this.set(t,e,n,s,i,r)};L.__name__=["byteware","geom","Mat"],L.prototype={set:function(t,e,n,s,i,r){null==r&&(r=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=n,this.d=s,this.e=i,this.f=r},copy:function(t){return null==t?t=new L(this.a,this.b,this.c,this.d,this.e,this.f):t.set(this.a,this.b,this.c,this.d,this.e,this.f),t},translate:function(t,e){null==e&&(e=0),null==t&&(t=0),this.e+=t,this.f+=e},scale:function(t,e){null==e&&(e=1),null==t&&(t=1),this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.e*=t,this.f*=e},skew:function(t,e){null==e&&(e=0),null==t&&(t=0);var n=Math.sin(t),s=Math.cos(t),t=Math.sin(e),e=Math.cos(e);this.set(this.a*e-this.b*n,this.a*t+this.b*s,this.c*e-this.d*n,this.c*t+this.d*s,this.e*e-this.f*n,this.e*t+this.f*s)},multiply:function(t){var e=this.a*t.a+this.c*t.b,n=this.a*t.c+this.c*t.d,s=this.a*t.e+this.c*t.f+this.e;this.a=e,this.c=n,this.e=s,e=this.b*t.a+this.d*t.b,n=this.b*t.c+this.d*t.d,s=this.b*t.e+this.d*t.f+this.f,this.b=e,this.d=n,this.f=s},invert:function(t){var e=this.a*this.d-this.c*this.b;return 0!=e&&((null==t?this:t).set(this.d/e,-this.c/e,-this.b/e,this.a/e,(this.c*this.f-this.d*this.e)/e,(this.b*this.e-this.a*this.f)/e),!0)},rotate_deg:function(t){var e=Math.cos(t),n=Math.sin(t),t=this.a*e-this.b*n;this.b=this.a*n+this.b*e,this.a=t;t=this.c*e-this.d*n;this.d=this.c*n+this.d*e,this.c=t;t=this.e*e-this.f*n;this.f=this.e*n+this.f*e,this.e=t},rotate_rad:function(t){this.rotate_deg(180*t/3.141592653589793)},determinant:function(){return this.a*this.d-this.c*this.b},transformCoords:function(t,e,n){var s=this.a*t+this.c*e+this.e,t=this.d*e+this.b*t+this.f;return null==n?n=new M(s,t):n.set(s,t),n},inv_transformCoords:function(t,e,n){null==n?n=new M(t,e):n.set(t,e);var s=this.determinant();return 0==s||(t-=this.e,e-=this.f,n.x=(t*this.d-e*this.c)/s,n.y=(e*this.a-t*this.b)/s),n},transformPos:function(t,e){this.transformCoords(t.x,t.y,null==e?t:e)},inv_transformPos:function(t,e){this.inv_transformCoords(t.x,t.y,null==e?t:e)},transformRect:function(t,e){var n=this.a*t.x+this.c*t.y,s=n,i=this.b*t.x+this.d*t.y,r=i,a=this.a*t.get_r()+this.c*t.y,_=this.b*t.get_r()+this.d*t.y;a<n&&(n=a),s<a&&(s=a),_<i&&(i=_),r<_&&(r=_),(a=this.a*t.get_r()+this.c*t.get_b())<n&&(n=a),s<a&&(s=a),(_=this.b*t.get_r()+this.d*t.get_b())<i&&(i=_),r<_&&(r=_),(a=this.a*t.x+this.c*t.get_b())<n&&(n=a),s<a&&(s=a),(_=this.b*t.x+this.d*t.get_b())<i&&(i=_),r<_&&(r=_),(null==e?t:e).set(n+this.e,i+this.f,s-n,r-i)},transformArray:function(t,e,n){null==n&&(n=t);for(var s=0;s<e;){var i=t[s],r=t[s+1];n[s++]=i*this.a+r*this.c+this.e,n[s++]=i*this.b+r*this.d+this.f}},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.e+", "+this.f+")"},__class__:L};var M=function(t,e){null==e&&(e=0),null==t&&(t=0),this.set(t,e)};M.__name__=["byteware","geom","Pos"],M.prototype={set:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},copy:function(t){return null==t?t=new M(this.x,this.y):t.set(this.x,this.y),t},__class__:M};var H=function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.set(t,e,n,s)};H.__name__=["byteware","geom","Rect"],H.prototype={set:function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.w=n,this.h=s},copy:function(t){return null==t?t=new H(this.x,this.y,this.w,this.h):t.set(this.x,this.y,this.w,this.h),t},align:function(t){this.w>t.w?this.x=.5*(t.w-this.w):(this.x<t.x&&(this.x=t.x),this.get_r()>t.get_r()&&this.set_r(t.get_r())),this.h>t.h?this.y=.5*(t.h-this.h):(this.y<t.y&&(this.y=t.y),this.get_b()>t.get_b()&&this.set_b(t.get_b()))},expand:function(t){var e,n;0==this.w&&0==this.h?this.set(t.x,t.y,t.w,t.h):(e=this.get_r(),n=this.get_b(),this.x>t.x&&(this.x=t.x,this.w=e-this.x),this.y>t.y&&(this.y=t.y,this.h=n-this.y),e<t.x+t.w&&(this.w=t.x+t.w-this.x),n<t.y+t.h&&(this.h=t.y+t.h-this.y))},normalize:function(){this.w<0&&(this.w=-this.w,this.x-=this.w),this.h<0&&(this.h=-this.h,this.y-=this.h)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},containsCoords:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_r()&&e<this.get_b()},containsPos:function(t){return this.containsCoords(t.x,t.y)},get_l:function(){return this.x},set_l:function(t){return this.w-=t-this.x,this.x=t},get_r:function(){return this.x+this.w},set_r:function(t){return this.w=t-this.x,t},get_t:function(){return this.y},set_t:function(t){return this.h-=t-this.y,this.y=t},get_b:function(){return this.y+this.h},set_b:function(t){return this.h=t-this.y,t},__class__:H};var P=function(t){this.charCode=t,this.texture=null,this.x=this.y=this.w=this.h=this.offsetX=this.offsetY=this.advance=0};P.__name__=["byteware","graphics","Glyph"],P.prototype={setTexture:function(t,e,n,s,i){this.texture=t,this.x=e,this.y=n,this.w=s,this.h=i},getKerning:function(t){return null==this.c_kernings?0:0|this.c_kernings.h[t]},setKerning:function(t,e){null==this.c_kernings&&(this.c_kernings=new B),this.c_kernings.h[t]=e},setOffsets:function(t,e,n){this.offsetX=t,this.offsetY=e,this.advance=n},draw:function(t,e,n){0<this.w&&t.drawTextureRegion(this.texture,e,n+this.offsetY,this.x,this.y,this.w,this.h)},__class__:P};var X=function(){this.c_base_texture=new W};X.__name__=["byteware","graphics","Spritesheet"],X.prototype={addTexture:function(t,e,n,s,i,r,a,_){null==_&&(_=0),null==a&&(a=0);a=new G(t,n,s,i,r,a,_),_=this.c_base_texture;return null!=St[e]?_.setReserved(e,a):_.h[e]=a,a},getTexture:function(t){var e=this.c_base_texture;return null!=St[t]?e.getReserved(t):e.h[t]},removeTexture:function(t){return this.c_base_texture.remove(t)},__class__:X};var G=function(t,e,n,s,i,r,a){this.set(t,e,n,s,i,r,a)};G.__name__=["byteware","graphics","Texture"],G.prototype={set:function(t,e,n,s,i,r,a){this.asset=t,this.x=e<0?0:e,this.y=n<0?0:n,this.w=s>this.asset.w?this.asset.w:s,this.h=i>this.asset.h?this.asset.h:i,this.pivotX=r,this.pivotY=a,this.id=-1},copy:function(t){return(t=this.getTexture(0,0,this.w,this.h,this.pivotX,this.pivotY,t)).id=this.id,t},getTexture:function(t,e,n,s,i,r,a){return null==r&&(r=0),null==i&&(i=0),null==a?a=new G(this.asset,this.x+t,this.y+e,n,s,i,r):a.set(this.asset,this.x+t,this.y+e,n,s,i,r),a},__class__:G};var Y={__ename__:!0,__constructs__:["BEGIN","MOVE","OVER","END"],BEGIN:["BEGIN",0]};(Y.BEGIN.__enum__=Y).MOVE=["MOVE",1],(Y.MOVE.__enum__=Y).OVER=["OVER",2],(Y.OVER.__enum__=Y).END=["END",3],Y.END.__enum__=Y;var F=function(t,e){this.isGlobal=e,this.isMultiSample=!0,this.id=-1,this.name=t,this.numSounds=0,this.c_paused=this.c_muted=this.c_stopped=!1,this.c_vol=this.c_vol_manual=1,this.c_fade_time=.2,this.c_base=[]};F.__name__=["byteware","media","MixerChannel"],F.prototype={add:function(t){-1==this.c_base.indexOf(t)&&(null!=t.channel&&t.channel.remove(t),(this.c_base[this.numSounds++]=t).channel=this)},remove:function(t){var e=this.c_base.indexOf(t);-1!=e&&(this.c_base.splice(e,1),this.numSounds--,t.channel=null)},play:function(t,e,n,s,i){return null==n&&(n=!1),null==e&&(e=1),null!=t&&!this.c_stopped&&(this.add(t),t.play(e,n,s,i),!0)},stop:function(){var s=this;if(!this.c_stopped)if(0<this.c_fade_time){this.c_stopped=!0;var i,r=0,a=function(t){if((r+=t)<s.c_fade_time){i=r/s.c_fade_time,s.c_vol=s.c_vol_manual*i;for(var e=s.numSounds;-1<--e;)s.c_base[e].event_change_volume()}else{d.ticker.remove(a),s.c_vol=s.c_vol_manual,s.c_stopped=!1;for(var n=s.numSounds;-1<--n;)s.c_base[n].stop()}};d.ticker.add(a)}else for(var t=this.numSounds;-1<--t;)this.c_base[t].stop()},event_activate:function(t){if(t)for(var e=-1;++e<this.numSounds;){var n=this.c_base[e];n.c_paused=n.c_manual,n.event_change_playback()}else for(var s=-1;++s<this.numSounds;){var i=this.c_base[s];i.c_paused=!0,i.event_change_playback()}},event_pause:function(t){},get_isPaused:function(){return this.c_paused},set_isPaused:function(t){return t},get_isMuted:function(){return this.c_muted},set_isMuted:function(t){return t},get_vol:function(){return this.c_vol_manual},set_vol:function(t){if(t<0?t=0:1<t&&(t=1),t!=this.c_vol_manual){this.c_vol=this.c_vol_manual=t;for(var e=-1;++e<this.numSounds;)this.c_base[e].event_change_volume()}return t},get_fadeTime:function(){return this.c_fade_time},set_fadeTime:function(t){return t<0&&(t=0),this.c_fade_time=t},__class__:F};var U=function(t,e){F.call(this,t,e),this.isMultiSample=this.c_fading=!1,this.c_fade_time=1.2,this.c_curr_sound_to=1,this.c_curr_time=this.c_total_time=0};U.__name__=["byteware","media","SingleTrackChannel"],U.__super__=F,U.prototype=t(F.prototype,{play:function(t,e,n,s,i){return null==n&&(n=!1),null==e&&(e=1),null!=t&&t!=this.c_curr_sound&&(0<this.c_fade_time?(this.add(t),this.c_curr_sound=t,this.c_curr_sound_to=e,this.c_total_time=this.c_fade_time,this.c_curr_sound.play(0,n,s,i),this.c_fading||(this.c_fading=!0,this.c_curr_time=0,d.ticker.add(yt(this,this.func_fade)))):(null!=this.c_curr_sound&&this.c_curr_sound.stop(),this.c_curr_sound=t,this.add(t),this.c_curr_sound.play(e,n,s,i)),!0)},stop:function(){0<this.c_fade_time&&(this.c_curr_sound=null,this.c_curr_time=0,this.c_total_time=this.c_fade_time,this.c_fading||(this.c_fading=!0,d.ticker.add(yt(this,this.func_fade))))},func_fade:function(t){if(this.c_curr_time+=t,this.c_curr_time<this.c_total_time)for(var e=this.c_curr_time/this.c_total_time,n=1-e,s=this.numSounds;-1<--s;){var i=this.c_base[s];i==this.c_curr_sound?i.set_vol(this.c_curr_sound_to*e):i.set_vol(i.get_vol()*n)}else{for(var r=this.numSounds;-1<--r;){var a=this.c_base[r];a==this.c_curr_sound?this.c_curr_sound.set_vol(this.c_curr_sound_to):a.stop()}null!=this.cf_fade_comp&&(this.cf_fade_comp(),this.cf_fade_comp=null),d.ticker.remove(yt(this,this.func_fade)),this.c_fading=!1}},event_pause:function(t){var e=this;null!=this.c_curr_sound&&(this.c_curr_sound_to=0,this.c_curr_time=0,this.c_total_time=.2,t?this.cf_fade_comp=function(){e.c_curr_sound.c_paused=!0,e.c_curr_sound.event_change_playback()}:(this.c_curr_sound.c_paused=!1,this.c_curr_sound.event_change_playback()),this.c_fading||(this.c_fading=!0,d.ticker.add(yt(this,this.func_fade))))},__class__:U});var z=function(){};z.__name__=["haxe","IMap"],z.prototype={__class__:z};var B=function(){this.h={}};B.__name__=["haxe","ds","IntMap"],B.__interfaces__=[z],B.prototype={set:function(t,e){this.h[t]=e},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},__class__:B};var W=function(){this.h={}};function V(t,e,n){this.xml=e,this.message=t,this.position=n,this.lineNumber=1;for(var s=this.positionAtLine=0,i=n;s<i;){var r=s++,r=e.charCodeAt(r);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}W.__name__=["haxe","ds","StringMap"],W.__interfaces__=[z],W.prototype={set:function(t,e){null!=St[t]?this.setReserved(t,e):this.h[t]=e},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=St[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return E.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:W},V.__name__=["haxe","xml","XmlParserException"],V.prototype={toString:function(){return y.getClassName(K.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:V};var j=function(){};j.__name__=["haxe","xml","Parser"],j.parse=function(t,e){null==e&&(e=!1);var n=k.createDocument();return j.doParse(t,e,0,n),n},j.doParse=function(t,e,n,s){null==n&&(n=0);for(var i,r,a,_=null,o=1,u=1,c=null,h=0,l=0,d=0,f=t.charCodeAt(n),p=new C,v=1,m=-1;f==f;){switch(o){case 0:switch(f){case 9:case 10:case 13:case 32:break;default:o=u;continue}break;case 1:if(60!=f){h=n,o=13;continue}o=0,u=2;break;case 2:switch(f){case 33:if(91==t.charCodeAt(n+1)){if("CDATA["!=E.substr(t,n+=2,6).toUpperCase())throw new q(new V("Expected <![CDATA[",t,n));o=17,h=(n+=5)+1}else if(68==t.charCodeAt(n+1)||100==t.charCodeAt(n+1)){if("OCTYPE"!=E.substr(t,n+2,6).toUpperCase())throw new q(new V("Expected <!DOCTYPE",t,n));o=16,h=(n+=8)+1}else{if(45!=t.charCodeAt(n+1)||45!=t.charCodeAt(n+2))throw new q(new V("Expected \x3c!--",t,n));o=15,h=(n+=2)+1}break;case 47:if(null==s)throw new q(new V("Expected node name",t,n));h=n+1,o=0,u=10;break;case 63:o=14,h=n;break;default:o=3,h=n;continue}break;case 3:if(97<=f&&f<=122||65<=f&&f<=90||48<=f&&f<=57||58==f||46==f||95==f||45==f)break;if(n==h)throw new q(new V("Expected node name",t,n));_=k.createElement(E.substr(t,h,n-h)),s.addChild(_),++l,o=0,u=4;continue;case 4:switch(f){case 47:o=11;break;case 62:o=9;break;default:o=5,h=n;continue}break;case 5:if(97<=f&&f<=122||65<=f&&f<=90||48<=f&&f<=57||58==f||46==f||95==f||45==f)break;if(h==n)throw new q(new V("Expected attribute name",t,n));if(c=E.substr(t,h,n-h),_.exists(c))throw new q(new V("Duplicate attribute ["+c+"]",t,n));o=0,u=6;continue;case 6:if(61!=f)throw new q(new V("Expected =",t,n));o=0,u=7;break;case 7:switch(f){case 34:case 39:p=new C,o=8,h=n+1,m=f;break;default:throw new q(new V('Expected "',t,n))}break;case 8:switch(f){case 38:var g=n-h;p.b+=E.substr(t,h,null==g?null:g),o=18,v=8,h=n+1;break;case 60:case 62:if(e)throw new q(new V("Invalid unescaped "+String.fromCharCode(f)+" in attribute value",t,n));f==m&&(i=n-h,p.b+=E.substr(t,h,null==i?null:i),i=p.b,p=new C,_.set(c,i),o=0,u=4);break;default:f==m&&(i=n-h,p.b+=E.substr(t,h,null==i?null:i),i=p.b,p=new C,_.set(c,i),o=0,u=4)}break;case 9:h=n=j.doParse(t,e,n,_),o=1;break;case 10:if(97<=f&&f<=122||65<=f&&f<=90||48<=f&&f<=57||58==f||46==f||95==f||45==f)break;if(h==n)throw new q(new V("Expected node name",t,n));var w=E.substr(t,h,n-h);if(s.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+s.nodeType);if(w!=s.nodeName){if(s.nodeType!=k.Element)throw new q("Bad node type, expected Element but found "+s.nodeType);throw new q(new V("Expected </"+s.nodeName+">",t,n))}o=0,u=12;continue;case 11:if(62!=f)throw new q(new V("Expected >",t,n));o=1;break;case 12:if(62==f)return 0==l&&s.addChild(k.createPCData("")),n;throw new q(new V("Expected >",t,n));case 13:60==f?(r=n-h,p.b+=E.substr(t,h,null==r?null:r),r=k.createPCData(p.b),p=new C,s.addChild(r),++l,o=0,u=2):38==f&&(r=n-h,p.b+=E.substr(t,h,null==r?null:r),o=18,v=13,h=n+1);break;case 14:63==f&&62==t.charCodeAt(n+1)&&(a=E.substr(t,h+1,++n-h-2),s.addChild(k.createProcessingInstruction(a)),++l,o=1);break;case 15:45==f&&45==t.charCodeAt(n+1)&&62==t.charCodeAt(n+2)&&(s.addChild(k.createComment(E.substr(t,h,n-h))),++l,n+=2,o=1);break;case 16:91==f?++d:93==f?--d:62==f&&0==d&&(s.addChild(k.createDocType(E.substr(t,h,n-h))),++l,o=1);break;case 17:93==f&&93==t.charCodeAt(n+1)&&62==t.charCodeAt(n+2)&&(a=k.createCData(E.substr(t,h,n-h)),s.addChild(a),++l,n+=2,o=1);break;case 18:if(59==f){var b=E.substr(t,h,n-h);if(35==b.charCodeAt(0)){var y=120==b.charCodeAt(1)?T.parseInt("0"+E.substr(b,1,b.length-1)):T.parseInt(E.substr(b,1,b.length-1));p.b+=String.fromCharCode(y)}else{y=j.escapes;if(null!=St[b]?y.existsReserved(b):y.h.hasOwnProperty(b)){y=j.escapes,y=null!=St[b]?y.getReserved(b):y.h[b];p.b+=T.string(y)}else{if(e)throw new q(new V("Undefined entity: "+b,t,n));p.b+=T.string("&"+b+";")}}h=n+1,o=v}else if(!(97<=f&&f<=122||65<=f&&f<=90||48<=f&&f<=57||58==f||46==f||95==f||45==f)&&35!=f){if(e)throw new q(new V("Invalid character in entity: "+String.fromCharCode(f),t,n));p.b+="&";b=n-h;p.b+=E.substr(t,h,null==b?null:b),h=n--,o=v}}f=t.charCodeAt(++n)}if(1==o&&(h=n,o=13),13==o)return n==h&&0!=l||(x=n-h,p.b+=E.substr(t,h,null==x?null:x),s.addChild(k.createPCData(p.b)),++l),n;if(e||18!=o||13!=v)throw new q(new V("Unexpected end",t,n));p.b+="&";var x=n-h;return p.b+=E.substr(t,h,null==x?null:x),s.addChild(k.createPCData(p.b)),++l,n};var q=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,q)};q.__name__=["js","_Boot","HaxeError"],q.wrap=function(t){return t instanceof Error?t:new q(t)},q.__super__=Error,q.prototype=t(Error.prototype,{__class__:q});var K=function(){};function $(){}function J(){}function Q(){this.onResize=new s(!1,!1)}function Z(t){this.c_max_slots=t,this.event_complete()}function tt(t){}K.__name__=["js","Boot"],K.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;t=K.__nativeClassName(t);return null!=t?K.__resolveNativeClass(t):null},K.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var n,s=typeof t;switch("function"==s&&(t.__name__||t.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var r=2,a=t.length;r<a;){var _=r++;i+=2!=_?","+K.__string_rec(t[_],e):K.__string_rec(t[_],e)}return i+")"}var o="[";e+="\t";for(var u=0,c=t.length;u<c;){var h=u++;o+=(0<h?",":"")+K.__string_rec(t[h],e)}return o+="]"}try{n=t.toString}catch(t){return"???"}if(null!=n&&n!=Object.toString&&"function"==typeof n){var l=t.toString();if("[object Object]"!=l)return l}var d=null,f="{\n";e+="\t";var p=null!=t.hasOwnProperty;for(d in t)p&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=f.length&&(f+=", \n"),f+=e+d+" : "+K.__string_rec(t[d],e));return f+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},K.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var n=t.__interfaces__;if(null!=n)for(var s=0,i=n.length;s<i;){var r=n[s++];if(r==e||K.__interfLoop(r,e))return!0}return K.__interfLoop(t.__super__,e)},K.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case Ct:return"boolean"==typeof t;case Tt:return!0;case Et:return"number"==typeof t;case xt:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(K.__interfLoop(K.getClass(t),e))return!0}else if("object"==typeof e&&K.__isNativeObj(e)&&t instanceof e)return!0;return e==kt&&null!=t.__name__?!0:e==Rt&&null!=t.__ename__||t.__enum__==e}},K.__nativeClassName=function(t){t=K.__toStr.call(t).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},K.__isNativeObj=function(t){return null!=K.__nativeClassName(t)},K.__resolveNativeClass=function(t){return e[t]},$.__name__=["js","Browser"],$.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return null}},J.__name__=["platform","Context"],J.prototype={save:function(){},restore:function(){},pre_render:function(){},post_render:function(){},transform:function(t,e,n,s,i,r){},translate:function(t,e){},scale:function(t,e){},rotate_deg:function(t){this.rotate_rad(3.141592653589793*t/180)},rotate_rad:function(t){},resize:function(t,e){},adjustAlpha:function(t){},setAlpha:function(t){},crop:function(t,e,n,s){},drawRect:function(t,e,n,s,i){},drawTexture:function(t,e,n){},drawTextureRegion:function(t,e,n,s,i,r,a){},__class__:J},Q.__name__=["platform","Display"],Q.prototype={get_w:function(){return 0},get_h:function(){return 0},__class__:Q},Z.__name__=["platform","Loader"],Z.prototype={add:function(t){var e=-1==this.c_base.indexOf(t);return e&&(this.c_base[this.numAssets++]=t),e},remove:function(t){if(this.isLoading)return!1;t=this.c_base.indexOf(t);return-1!=t&&(this.c_base.splice(t,1),this.numAssets--,!0)},clear:function(){return!this.isLoading&&(this.c_base=[],!(this.numAssets=0))},start:function(t,e){var n=this;if(this.isLoading)return!1;if(this.isLoading=!0,0==this.numAssets)return null!=t&&t(),!1;this.cf_complete=t,this.cf_progress=e;var s=function(t){d.ticker.remove(s),n.event_start()};return d.ticker.add(s),!0},cancel:function(t,e){return null==e&&(e=!0),!1},loadData:function(t,e,n,s){return!1},loadAsset:function(s,i,t){if(null==s&&console.log("BOO"),null==s)return!1;switch(s.type[1]){case 0:return this.loadData(s.path,A.TEXTURE,function(t){var e=null!=s.root,n=e?s.root:null,n=d.platform.get_renderer().createTextureFromNativeData(t,n);e||((s.root=n).info=s,g.setTexture(s.name,n,!0)),null!=i&&i()},t);case 1:return this.loadData(s.path,A.STRING,function(t){g.setString(s.name,t,!0),s.flag_remove_entry&&null!=s.pack&&s.pack.remove(s),null!=i&&i()},t);case 2:return this.loadData(s.path,A.SOUND,function(t){var e=null!=s.root,n=e?s.root:null,n=d.platform.get_sound().createSoundFromNativeData(t,n);e||((s.root=n).info=s,g.setSound(s.name,n,!0)),null!=i&&i()},t)}},event_start:function(){for(;this.c_curr_entry<this.c_max_slots;)this.loadAsset(this.c_base[this.c_curr_entry++],yt(this,this.event_next),yt(this,this.event_progress))},event_next:function(){this.progress=++this.c_curr_loaded/this.numAssets,this.c_curr_entry<this.numAssets&&this.loadAsset(this.c_base[this.c_curr_entry++],yt(this,this.event_next),yt(this,this.event_progress)),null!=this.cf_progress&&this.cf_progress(this.progress),1<=this.progress&&this.event_complete()},event_progress:function(t){this.progress=(this.c_curr_loaded+t)/this.numAssets,null!=this.cf_progress&&this.cf_progress(this.progress)},event_complete:function(){this.isLoading=!1,this.progress=0,this.numAssets=this.c_curr_loaded=this.c_curr_entry=0,this.c_base=[],null!=this.cf_complete&&this.cf_complete(),this.cf_complete=null,this.cf_progress=null},__class__:Z},tt.__name__=["platform","Platform"],tt.prototype={get_display:function(){return null},get_renderer:function(){return null},get_sound:function(){return null},get_loader:function(){return null},get_storage:function(){return null},__class__:tt};var et={__ename__:!0,__constructs__:["CANVAS","OPENGL","CUSTOM"],CANVAS:["CANVAS",0]};function nt(t,e){this.type=t,this.isGPU=e}function st(){S.call(this),this.isStarted=this.c_paused=this.c_manual=!1,this.c_vol=-1,this.c_loop=!1}(et.CANVAS.__enum__=et).OPENGL=["OPENGL",1],(et.OPENGL.__enum__=et).CUSTOM=["CUSTOM",2],et.CUSTOM.__enum__=et,nt.__name__=["platform","Renderer"],nt.prototype={pre_render:function(){this.context.pre_render()},post_render:function(){this.context.post_render()},createTexture:function(t,e,n){return null},createTextureFromNativeData:function(t,e){return null},get_antialiasing:function(){return!1},set_antialiasing:function(t){return!1},__class__:nt},st.__name__=["platform","SoundAsset"],st.__super__=S,st.prototype=t(S.prototype,{play:function(t,e,n,s){null==e&&(e=!1),null==t&&(t=1),this.set_loop(e),this.set_vol(t),this.cf_comp=n,this.cf_comp_args=s},stop:function(){},event_change_volume:function(){},event_change_playback:function(){},event_sound_complete:function(){this.c_loop||this.stop(),m.call(this.cf_comp,this.cf_comp_args)},get_isPaused:function(){return this.c_manual},set_isPaused:function(t){return t!=this.c_manual&&(this.c_manual=this.c_paused=t,this.event_change_playback()),t},get_vol:function(){return this.c_vol},set_vol:function(t){return t<0?t=0:1<t&&(t=1),t!=this.c_vol&&(this.c_vol=t,this.event_change_volume()),t},get_loop:function(){return this.c_loop},set_loop:function(t){return this.c_loop=t},__class__:st});var it={__ename__:!0,__constructs__:["DEFAULT","CUSTOM"],DEFAULT:["DEFAULT",0]};function rt(t){this.type=t}function at(t){this.c_name=t,this.c_base=new W,this.isChanged=!1}function _t(t){S.call(this),this.id=t,this.w=this.h=0,this.texture=new G(this,0,0,0,0,0,0)}function ot(t){this.test_mat=new L,J.call(this),this.framebuffer=t,this.framebuffer_ctx=t.getContext("2d",{alpha:!1}),this.backbuffer=window.document.createElement("canvas"),this.backbuffer_ctx=this.backbuffer.getContext("2d",{alpha:!1}),this.backbuffer.width=d.WIDTH,this.backbuffer.height=d.HEIGHT,this.framebuffer_ctx.imageSmoothingEnabled=!1,this.backbuffer_ctx.imageSmoothingEnabled=!1,this.settings=new ut(null)}(it.DEFAULT.__enum__=it).CUSTOM=["CUSTOM",1],it.CUSTOM.__enum__=it,rt.__name__=["platform","SoundSystem"],rt.prototype={createSoundFromNativeData:function(t,e){return null},__class__:rt},at.__name__=["platform","Storage"],at.prototype={load:function(){return!1},save:function(){return!1},clear:function(){return!1},remove:function(t){t=this.c_base.remove(t);return t&&(this.isChanged=!0),t},get:function(t,e){var n=this.c_base;if(null==(null!=St[t]?n.getReserved(t):n.h[t]))return this.set(t,e),e;e=this.c_base;return null!=St[t]?e.getReserved(t):e.h[t]},set:function(t,e){var n=this.c_base,s=null==(null!=St[t]?n.getReserved(t):n.h[t]);return null==t||null==e?s=!1:(n=this.c_base,(null!=St[t]?n.getReserved(t):n.h[t])!=e&&(this.isChanged=!0),n=this.c_base,null!=St[t]?n.setReserved(t,e):n.h[t]=e),s},geti:function(t,e){null==e&&(e=0);var n=this.c_base;if(null==(null!=St[t]?n.getReserved(t):n.h[t]))return this.set(t,""+e),e;e=this.c_base;return T.parseInt(null!=St[t]?e.getReserved(t):e.h[t])},seti:function(t,e){return this.set(t,""+e)},getf:function(t,e){null==e&&(e=0);var n=this.c_base;if(null==(null!=St[t]?n.getReserved(t):n.h[t]))return this.set(t,""+e),e;e=this.c_base;return parseFloat(null!=St[t]?e.getReserved(t):e.h[t])},setf:function(t,e){return this.set(t,""+e)},getb:function(t,e){null==e&&(e=!1);var n=this.c_base;if(null==(null!=St[t]?n.getReserved(t):n.h[t]))return this.set(t,e?"1":"0"),e;e=this.c_base;return"0"!=(null!=St[t]?e.getReserved(t):e.h[t])},setb:function(t,e){return this.set(t,e?"1":"0")},__class__:at},_t.__name__=["platform","TextureAsset"],_t.__super__=S,_t.prototype=t(S.prototype,{get_context:function(){return null},__class__:_t}),ot.__name__=["platform","html5","CanvasContext"],ot.__super__=J,ot.prototype=t(J.prototype,{save:function(){this.settings=this.settings.next()},restore:function(){this.settings=this.settings.prev(),this.apply_transform()},pre_render:function(){var t=d.root.get_mat();this.framebuffer_ctx.setTransform(t.a,t.b,t.c,t.d,Math.round(t.e),Math.round(t.f)),this.backbuffer_ctx.fillStyle="#000000",this.backbuffer_ctx.globalCompositeOperation="copy",this.backbuffer_ctx.fillRect(0,0,d.WIDTH,d.HEIGHT),this.backbuffer_ctx.globalCompositeOperation="source-over"},post_render:function(){this.framebuffer_ctx.drawImage(this.backbuffer,0,0,d.WIDTH,d.HEIGHT)},transform:function(t,e,n,s,i,r){this.test_mat.set(t,e,n,s,i,r),this.settings.mat.multiply(this.test_mat),this.apply_transform()},translate:function(t,e){this.settings.mat.translate(t,e),this.apply_transform()},scale:function(t,e){this.settings.mat.scale(t,e),this.apply_transform()},rotate_rad:function(t){this.settings.mat.rotate_deg(180*t/3.141592653589793),this.apply_transform()},adjustAlpha:function(t){},setAlpha:function(t){},crop:function(t,e,n,s){},drawRect:function(t,e,n,s,i){for(var r=(16777215&t).toString(16);r.length<6;)r="0"+r;this.backbuffer_ctx.fillStyle="#"+r,this.backbuffer_ctx.fillRect(e,n,s,i)},drawTexture:function(t,e,n){var s=t.asset,i=t.w,r=t.h;this.backbuffer_ctx.drawImage(s.textureData,t.x,t.y,i,r,e,n,i,r)},drawTextureRegion:function(t,e,n,s,i,r,a){var _=t.asset;this.backbuffer_ctx.drawImage(_.textureData,t.x+s,t.y+i,r,a,e,n,r,a)},apply_transform:function(){var t=this.settings.mat;this.backbuffer_ctx.setTransform(t.a,t.b,t.c,t.d,Math.round(t.e),Math.round(t.f))},__class__:ot});var ut=function(t){if(null!=t)this.c_prev=t;else for(var e=new ut(this),n=14;-1<--n;)e=new ut(e);this.mat=new L,this.reset()};function ct(t){nt.call(this,et.CANVAS,!1),this.context=new ot(t),this.c_antialiasing=!0,t=new u("(iPhone|iPod|iPad)","").match(window.navigator.userAgent),this.useCanvasTextures=!0,this.maxTextureSize=t?2048:1024}ut.__name__=["platform","html5","CanvasDrawSettings"],ut.prototype={next:function(){var t=this.c_next;return null==t&&(t=new ut(this),this.c_next=t),this.mat.copy(t.mat),t},prev:function(){return this.reset(),this.c_prev},reset:function(){},__class__:ut},ct.__name__=["platform","html5","CanvasRenderer"],ct.__super__=nt,ct.prototype=t(nt.prototype,{createTexture:function(t,e,n){return null==n?n=new ht(lt.createCanvas(l.nextPow2(t),l.nextPow2(e)),-1):n.upload(lt.createCanvas(t,e)),n.texture.set(n,0,0,t,e,0,0),n},createTextureFromNativeData:function(t,e){return null==e?e=new ht(this.useCanvasTextures?lt.createCanvasFrom(t):t,-1):e.upload(this.useCanvasTextures?lt.createCanvasFrom(t):t),e.texture.set(e,0,0,t.width,t.height,0,0),e},get_antialiasing:function(){return this.c_antialiasing},set_antialiasing:function(t){return t!=this.c_antialiasing&&(this.c_antialiasing=t),t},__class__:ct});var ht=function(t,e){_t.call(this,e),this.upload(t)};ht.__name__=["platform","html5","CanvasTextureAsset"],ht.__super__=_t,ht.prototype=t(_t.prototype,{upload:function(t){return null!=this.textureData&&this.unload(),this.textureData=t,this.isLoaded=null!=t,this.isLoaded?(this.w=t.width,this.h=t.height,this.texture.set(this,0,0,this.w,this.h,0,0)):(this.w=this.h=0,this.texture.set(this,0,0,0,0,0,0)),null!=this.e_reloaded&&this.e_reloaded.dispatch(!1,!1),this.isLoaded},unload:function(){var t=this.isLoaded;return this.textureData=null,this.c_context=null,this.isLoaded=!1,t},getContext2D:function(){return K.__instanceof(this.textureData,HTMLCanvasElement)||(this.textureData=lt.createCanvasFrom(this.textureData)),this.textureData.getContext("2d",null)},get_context:function(){return null==this.c_context&&(this.getContext2D(),this.c_context=new ot(this.textureData)),this.c_context},__class__:ht});var lt=function(){};function dt(t){Q.call(this),this.canvas=t,window.addEventListener("resize",yt(this,this.event_resize),!1),this.resize_w_to=window.innerWidth,this.resize_h_to=window.innerHeight,this.resize_canvas()}function ft(){}function pt(){Z.call(this,3)}lt.__name__=["platform","html5","CanvasTools"],lt.createCanvas=function(t,e){var n=window.document.createElement("canvas");return n.width=t,n.height=e,n},lt.createCanvasFrom=function(t,e){null==e&&(e=!1);var n=t.width,s=t.height;e&&(n=l.nextPow2(n),s=l.nextPow2(s));n=lt.createCanvas(n,s),s=n.getContext("2d",null);return s.save(),s.globalCompositeOperation="copy",s.drawImage(t,0,0),s.restore(),n},dt.__name__=["platform","html5","HTML5Display"],dt.__super__=Q,dt.prototype=t(Q.prototype,{event_resize:function(){this.resize_w_to=window.innerWidth,this.resize_h_to=window.innerHeight,this.is_resizing||(this.is_resizing=!0,window.setTimeout(yt(this,this.resize_canvas),200))},resize_canvas:function(){var t=this.canvas.parentElement;t.style.width=this.resize_w_to+"px",t.style.height=this.resize_h_to+"px",this.canvas.width=this.resize_w_to,this.canvas.height=this.resize_h_to,d.event_resize(this.resize_w_to,this.resize_h_to),this.is_resizing=!1},get_w:function(){return this.canvas.width},get_h:function(){return this.canvas.height},__class__:dt}),ft.__name__=["platform","html5","HTML5Extensions"],ft.load=function(t,e){null==e&&(e=window);var n=v.field(e,t);if(null!=n)return{vendor:"",name:t,instance:n};for(var s,i,r,a=t.charAt(0).toUpperCase()+E.substr(t,1,null),_=ft.vendors.length-1;-1<--_;)if(i=ft.vendors[_],null!=(r=v.field(e,s=i+a)))return{vendor:i,name:s,instance:r};return null},ft.loadFirst=function(t,e){for(var n=-1,s=t.length;++n<s;){var i=ft.load(t[n],e);if(null!=i)return i}return null},ft.call=function(t,e){var n=ft.load(t,e);return null!=n&&(e[t]=n.instance,!0)},ft.setVendorStyle=function(t,e,n){for(var s=t.style,i=ft.vendors.length;-1<--i;)s.setProperty("-"+ft.vendors[i]+"-"+e,n);s.setProperty(e,n)},ft.addVendorListener=function(t,e,n,s){null==s&&(s=!1);for(var i=ft.vendors.length;-1<--i;)t.addEventListener(ft.vendors[i]+e,n,s);t.addEventListener(e,n,s)},pt.__name__=["platform","html5","HTML5Loader"],pt.__super__=Z,pt.prototype=t(Z.prototype,{download:function(t,n,s,i){function r(){u&&(u=!1,window.clearInterval(o))}function a(){return 0<=--c&&(e(),!0)}var _=null,e=null,o=0,u=!1,c=3;(e=function(){r(),null!=_&&_.abort(),(_=new XMLHttpRequest).open("GET",t,!0),_.responseType=n;var e=0;_.onprogress=function(t){u||(u=!0,o=window.setInterval(function(){4!=_.readyState&&5e3<Date.now()-e&&(a()||r())},1e3)),e=Date.now()},_.onprogress=function(t){0==_.status&&a()||r(),null!=i&&i(t.loaded/t.total)},_.onload=function(t){var e=_.response;null==e&&(e=_.responseText),r(),s(e)},_.send()})()},is_blob_supported:function(){if(this.c_detect_blob){if(this.c_detect_blob=!1,new u("\\bSilk\\b","").match(window.navigator.userAgent))return!1;if(null==window.Blob)return!1;var t=new XMLHttpRequest;if(t.open("GET",".",!0),(t.responseType="blob")!=t.responseType)return!1;this.c_url=ft.load("URL").instance}return null!=this.c_url&&null!=this.c_url.createObjectURL},loadData:function(t,e,n,s){var i=this;switch(e[1]){case 0:var r=window.document.createElement("img");r.addEventListener("load",function(t){n(r)},!1),this.is_blob_supported()?this.download(t,"blob",function(t){r.src=i.c_url.createObjectURL(t)},s):r.src=t;break;case 1:this.download(t,"text",n,s);break;case 2:var a=window.document.createElement("audio");a.preload="auto";var _,o,u,c=++pt.c_ref_count;null==pt.c_ref_elements&&(pt.c_ref_elements=new B),pt.c_ref_elements.set(c,a),_=function(t){pt.c_ref_elements.remove(c),a.removeEventListener("canplaythrough",_,!1),a.removeEventListener("progress",o,!1),a.removeEventListener("error",u,!1),n(a)},o=function(t){},u=function(t){pt.c_ref_elements.remove(c),a.removeEventListener("canplaythrough",_,!1),a.removeEventListener("progress",o,!1),a.removeEventListener("error",u,!1)},a.addEventListener("canplaythrough",_,!1),a.addEventListener("progress",o,!1),a.addEventListener("error",u,!1),a.src=t,a.load()}return!0},__class__:pt});var vt=function(t){var e,n,i=this;tt.call(this,t),0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")&&(e=Math.sin,n=Math.cos,Math.sin=function(t){return 0==t?0:e(t)},Math.cos=function(t){return 0==t?1:n(t)});var s=window.onerror;window.onerror=function(t,e,n){return null!=s&&s(t,e,n)};var r=window.document.createElement("canvas"),a=window.document.getElementById("content");a.style.width=T.string(window.innerWidth)+"px",a.style.height=T.string(window.innerHeight)+"px",a.style.overflow="hidden",a.style.position="relative",a.appendChild(r),r.setAttribute("tabindex","0"),r.style.outlineStyle="none",r.style.webkitTapHighlightColor="transparent",r.focus(),r.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.c_display=new dt(r),this.c_sound=new gt,this.c_loader=new pt,this.c_storage=new wt(t,$.getLocalStorage()),this.c_renderer=new ct(r);var _=0,o=!1;a.style.msTouchAction="none";a=function(t){if(!(t.timeStamp-_<1e3)){var e=r.getBoundingClientRect(),n=(t.clientX-e.left)*i.c_display.get_w()/e.width,s=(t.clientY-e.top)*i.c_display.get_h()/e.height;switch(t.type){case"mousedown":if(t.target!=r)return;t.preventDefault(),d.root.submitTouch(0,n,s,Y.BEGIN),r.focus(),o=!0;break;case"mousemove":d.root.submitTouch(0,n,s,o?Y.MOVE:Y.OVER);break;case"mouseup":d.root.submitTouch(0,n,s,Y.END)}}};window.addEventListener("mousedown",a,!1),window.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",a,!1),r.addEventListener("mousewheel",a,!1),r.addEventListener("DOMMouseScroll",a,!1);var u=void 0!==window.ontouchstart,a=function(t){var e=u?t.changedTouches[0]:t,n=t.target.getBoundingClientRect();switch(_=t.timeStamp,t.type){case"MSPointerMove":case"pointermove":case"touchmove":t.preventDefault(),d.root.submitTouch(0,(e.clientX-n.left)*i.c_display.get_w()/n.width,(e.clientY-n.top)*i.c_display.get_h()/n.height,Y.MOVE);break;case"MSPointerUp":case"pointerup":case"touchcancel":case"touchend":d.root.submitTouch(0,(e.clientX-n.left)*i.c_display.get_w()/n.width,(e.clientY-n.top)*i.c_display.get_h()/n.height,Y.END);break;case"MSPointerDown":case"pointerdown":case"touchstart":t.preventDefault(),d.root.submitTouch(0,(e.clientX-n.left)*i.c_display.get_w()/n.width,(e.clientY-n.top)*i.c_display.get_h()/n.height,Y.BEGIN)}};u?(r.addEventListener("touchstart",a,!1),r.addEventListener("touchmove",a,!1),r.addEventListener("touchend",a,!1),r.addEventListener("touchcancel",a,!1)):(r.addEventListener("MSPointerDown",a,!1),r.addEventListener("MSPointerMove",a,!1),r.addEventListener("MSPointerUp",a,!1));a=function(t){t.type};r.addEventListener("keydown",a,!1),r.addEventListener("keyup",a,!1);var c=ft.load("hidden",window.document);null!=c.instance?v.field(window.document,c.name)?d.event_deactivate():d.event_activate():(a=function(t){"pagehide"==t.type?d.event_deactivate():d.event_activate()},window.addEventListener("pageshow",a,!1),window.addEventListener("pagehide",a,!1)),window.addEventListener("blur",function(t){d.event_deactivate()},!1),window.addEventListener("focus",function(t){d.event_activate()},!1),window.addEventListener("unload",function(t){d.onExit.dispatch(!0,!0)},!1);var h,l=ft.load("requestAnimationFrame").instance;null==l?window.setInterval(d.event_render,16):(h=null,h=function(){d.event_render(),l(h,r)},l(h,r))};function mt(t){st.call(this),null!=t&&(this.audioElement=t,this.audioElement.addEventListener("ended",yt(this,this.event_sound_complete),!1))}vt.__name__=["platform","html5","HTML5Platform"],vt.__super__=tt,vt.prototype=t(tt.prototype,{get_display:function(){return this.c_display},get_renderer:function(){return this.c_renderer},get_sound:function(){return this.c_sound},get_loader:function(){return this.c_loader},get_storage:function(){return this.c_storage},__class__:vt}),mt.__name__=["platform","html5","HTML5SoundAsset"],mt.__super__=st,mt.prototype=t(st.prototype,{upload:function(t){this.unload();return null==t?this.isLoaded=!1:(this.audioElement=t,this.audioElement.addEventListener("ended",yt(this,this.event_sound_complete),!1),this.isLoaded=!0)},unload:function(){return null!=this.audioElement&&(this.stop(),this.audioElement.removeEventListener("ended",yt(this,this.event_sound_complete),!1),!(this.audioElement=null))},play:function(t,e,n,s){null==e&&(e=!1),null==t&&(t=1),st.prototype.play.call(this,t,e,n,s),this.isStarted?this.audioElement.currentTime=0:this.audioElement.play(),this.isStarted=!0},stop:function(){this.isStarted&&(this.isStarted=!1,this.audioElement.pause(),this.audioElement.currentTime=0)},event_change_volume:function(){this.audioElement.volume=null==this.channel?this.c_vol:this.c_vol*this.channel.c_vol},event_change_playback:function(){this.c_paused?this.audioElement.pause():this.audioElement.play()},set_loop:function(t){return this.audioElement.loop=t,this.c_loop=t},__class__:mt});var gt=function(){rt.call(this,it.DEFAULT)};gt.__name__=["platform","html5","HTML5SoundSystem"],gt.__super__=rt,gt.prototype=t(rt.prototype,{createSoundFromNativeData:function(t,e){return null==e?e=new mt(t):e.upload(t),e},__class__:gt});var wt=function(t,e){at.call(this,"byteware_"+t),this.c_local_storage=e};wt.__name__=["platform","html5","HTML5Storage"],wt.__super__=at,wt.prototype=t(at.prototype,{load:function(){var t=null;try{t=this.c_local_storage.getItem(this.c_name)}catch(t){}if(null==t)return!1;this.isChanged=!1;for(var e=t.split("##"),n=e.length;-1<--n;){var s=(r=e[n].split("&&"))[1],i=this.c_base,r=r[0];null!=St[r]?i.setReserved(r,s):i.h[r]=s}return!0},save:function(){if(!this.isChanged)return!1;for(var t="",e=this.c_base.keys();e.hasNext();){var n=e.next(),s=""==t?"":"##",i=this.c_base;t+=s+n+"&&"+(null!=St[n]?i.getReserved(n):i.h[n])}try{this.c_local_storage.setItem(this.c_name,t)}catch(t){return!1}return!(this.isChanged=!1)},clear:function(){try{this.c_local_storage.removeItem(this.c_name)}catch(t){return!1}return this.c_base=new W,!(this.isChanged=!1)},__class__:wt});var bt=0;function yt(t,e){return null==e?null:(null==e.__id__&&(e.__id__=bt++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&((n=function(){return n.method.apply(n.scope,arguments)}).scope=t,n.method=e,t.hx__closures__[e.__id__]=n),n);var n}String.prototype.__class__=String,String.__name__=["String"],Array.__name__=["Array"],Date.prototype.__class__=Date,Date.__name__=["Date"];var xt={__name__:["Int"]},Tt={__name__:["Dynamic"]},Et=Number;Et.__name__=["Float"];var Ct=Boolean;Ct.__ename__=["Bool"];var kt={__name__:["Class"]},Rt={},St={};d.isStarted=!1,d.isActive=!0,d.isPaused=!1,d.onStarted=new s(!1,!0),d.onActivate=new s(!1,!1),d.onDeactivate=new s(!1,!1),d.onExit=new s(!1,!0),d.onPause=new s(!1,!1),d.onResume=new s(!1,!1),d.onResize=new s(!1,!1),d.WIDTH=0,d.HEIGHT=0,d.MIN_WIDTH=0,d.MIN_HEIGHT=0,d.CURRENT_WIDTH=0,d.CURRENT_HEIGHT=0,d.TOP=0,d.BOTTOM=0,d.LEFT=0,d.RIGHT=0,h.ENGINE_VERSION="0.6.5.l alpha",h.MIN_FPS=30,h.buns=[],h.num_buns=0,h.min_x=0,h.max_x=0,h.min_y=0,h.max_y=0,h.gravity=.5,h.is_adding_bunnies=!1,h.fps_elapsed=0,h.fps_current=0,h.fps_retries=3,h.target_fps=55,h.stats_fps=[],l.E=1e-6,l.PI=3.141592653589793,l.PQ=.7853981633974483,l.P2=6.28318530718,l.PH=1.5707963267948966,l.INT_MIN=-2147483648,l.INT_MAX=2147483647,l.FLOAT_MIN=-179769313486231e294,l.FLOAT_MAX=179769313486231e294,g.g_base_packs=new W,g.g_base_textures=new W,g.g_base_strings=new W,g.g_base_sounds=new W,w.numChannels=0,k.Element=0,k.PCData=1,k.CData=2,k.Comment=3,k.DocType=4,k.ProcessingInstruction=5,k.Document=6,R.globalDelta=0,R.numTickers=0,R.g_coef=1,R.g_curr=0,R.g_prev=0,R.g_base=[],O.numFonts=0,j.escapes=(z=new W,null!=St.lt?z.setReserved("lt","<"):z.h.lt="<",null!=St.gt?z.setReserved("gt",">"):z.h.gt=">",null!=St.amp?z.setReserved("amp","&"):z.h.amp="&",null!=St.quot?z.setReserved("quot",'"'):z.h.quot='"',null!=St.apos?z.setReserved("apos","'"):z.h.apos="'",z),K.__toStr={}.toString,ft.vendors=["webkit","moz","ms","o","khtml"],pt.c_ref_count=0,h.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);